webpackJsonp([258],{451:function(t,e,a){"use strict";nb.substance0630=extendsClass(ScienceMain,{frame0:function(){var t=this,e=t.center,a=t.glass.eye,n=[a.error0,a.error1,a.ok],s=0;function i(){instance.NBDownTip.hideTip(),this.startX=this.x,this.startY=this.y,e.setChildIndex(this,e.children.length-1);for(var t=0;t<3;t++)"most"==this.name?TweenMax.to(e["m"+t],.4,{alpha:.5}):TweenMax.to(e["l"+t],.4,{alpha:.5})}!function(){t.glass.startX=t.glass.x,t.glass.x=-t.glass.width,t.glass.alpha=0,t.glass.setColor(16777215,.3),t.glass.eye.alpha=0,t.glass.pushWater.alpha=0,n.forEach(function(t){t.alpha=0}),t.center.startX=t.center.x,t.center.startY=t.center.y,t.center.x=$("canvas")[0].width/2,t.center.y=$("canvas")[0].height/2+$s(50),t.table.startX=t.table.x,t.table.x=t.width,t.table.alpha=0,instance.NBDownTip.showTip("拖动标签贴在杯子上");for(var a=0;a<3;a++)e["m"+a].alpha=0,e["l"+a].alpha=0,e["m"+a].scale={x:.8,y:.8},e["l"+a].scale={x:.8,y:.8},e["g"+a].setColor(16777215,.3),e["gt"+a].setColor(16777215,.3),e["gt"+a].alpha=0,e["gt"+a].rotation=-50*Math.PI/180,e["gt"+a].scale={x:.8,y:.8},t.table["e"+a].alpha=0;e.g0.setCurrentCapacity("75%"),e.gt0.setCurrentCapacity("75%"),e.g1.setCurrentCapacity("85%"),e.gt1.setCurrentCapacity("85%"),e.g2.setCurrentCapacity("55%"),e.gt2.setCurrentCapacity("55%"),NBDrag.addDrag(e.most),NBDrag.addDrag(e.lost),e.most.addEventListener(NBDrag.event.START_DRAG,i),e.most.addEventListener(NBDrag.event.DRAG_MOVE,l),e.most.addEventListener(NBDrag.event.STOP_DRAG,r),e.lost.addEventListener(NBDrag.event.START_DRAG,i),e.lost.addEventListener(NBDrag.event.DRAG_MOVE,l),e.lost.addEventListener(NBDrag.event.STOP_DRAG,r)}();var o=-1;function l(){for(var t=0;t<3;t++){if(this.hitTest(e["m"+t])){"most"==this.name?TweenMax.to(e["m"+t].scale,.4,{x:1.2,y:1.2}):TweenMax.to(e["l"+t].scale,.4,{x:1.2,y:1.2});break}"most"==this.name?.5==e["m"+t].alpha&&TweenMax.to(e["m"+t].scale,.4,{x:.8,y:.8}):.5==e["l"+t].alpha&&TweenMax.to(e["l"+t].scale,.4,{x:.8,y:.8})}}function r(){for(var a=this,n=!0,i=function(i){TweenMax.to(e["m"+i],.4,{alpha:0}),TweenMax.to(e["l"+i],.4,{alpha:0}),a.hitTest(e["m"+i])&&!e.most.hitTest(e.lost)&&(TweenMax.to(a,.4,{x:e["m"+i].x,y:e["m"+i].y,onComplete:function(){NBDrag.removeDrag(a),s++,"most"==a.name?e["l"+i].visible=!1:e["m"+i].visible=!1,2==s&&function(){TweenMax.to(e.word,.4,{alpha:0,onComplete:function(){e.word.visible=!1}});for(var a=0;a<3;a++)e["m"+a].visible=!1,e["l"+a].visible=!1;TweenMax.to(t.table,.4,{x:t.table.startX,alpha:1}),TweenMax.to(t.glass,.4,{x:t.glass.startX,alpha:1}),TweenMax.to(e,.4,{x:e.startX,y:e.startY,onComplete:function(){instance.NBDownTip.showTip("拖动杯子向量筒中倒水");for(var t=0;t<3;t++)NBDrag.addDrag(e["g"+t]),e["g"+t].addEventListener(NBDrag.event.START_DRAG,h),e["g"+t].addEventListener(NBDrag.event.DRAG_MOVE,p),e["g"+t].addEventListener(NBDrag.event.STOP_DRAG,c)}})}()}}),n=!1)},o=0;o<3;o++)i(o);n&&TweenMax.to(this,.4,{x:this.startX,y:this.startY,onComplete:function(){instance.NBDownTip.showTip("拖动标签贴在杯子上")}})}function h(){instance.NBDownTip.hideTip(),this.children[0].hitTest(e.most)&&TweenMax.to(e.most,.4,{alpha:0}),this.children[0].hitTest(e.lost)&&TweenMax.to(e.lost,.4,{alpha:0}),this.startX=this.x,this.startY=this.y,TweenMax.to(e["w"+this.name.split("g")[1]],.4,{alpha:0}),TweenMax.to(e["gt"+this.name.split("g")[1]],.4,{alpha:.5}),TweenMax.to(t.glass.eye,.4,{alpha:0}),n.forEach(function(t){t.alpha=0})}function p(){this.children[0].hitTest(e["gt"+this.name.split("g")[1]].children[0])?TweenMax.to(e["gt"+this.name.split("g")[1]].scale,.4,{x:1.2,y:1.2}):TweenMax.to(e["gt"+this.name.split("g")[1]].scale,.4,{x:.8,y:.8})}function c(){var a=this;if(TweenMax.to(e["gt"+this.name.split("g")[1]],.4,{alpha:0}),this.children[0].hitTest(e["gt"+this.name.split("g")[1]].children[0])){for(var s=0;s<3;s++)e["g"+s].interactive=!1;TweenMax.to(this,.4,{x:e["gt"+this.name.split("g")[1]].x,y:e["gt"+this.name.split("g")[1]].y,onComplete:function(){TweenMax.to(a,1,{rotation:-120*Math.PI/180,ease:Power0.easeNone,onComplete:function(){NBDrag.removeDrag(a),o=a.name.split("g")[1],TweenMax.to(a,.5,{rotation:0,ease:Power0.easeNone,delay:.5,onComplete:function(){TweenMax.to(a,.4,{x:a.startX,y:a.startY,onComplete:function(){a.children[0].hitTest(e.most)&&TweenMax.to(e.most,.4,{alpha:1}),a.children[0].hitTest(e.lost)&&TweenMax.to(e.lost,.4,{alpha:1}),TweenMax.to(e["w"+a.name.split("g")[1]],.4,{alpha:1,onComplete:function(){"g0"==a.name?(T(19),t.glass.eye.y=-211):"g1"==a.name?(T(29),t.glass.eye.y=-250):"g2"==a.name&&(T(23),t.glass.eye.y=-226.5),instance.NBDownTip.showTip("请选择正确的读数"),TweenMax.to(t.glass.eye,.4,{alpha:1,onComplete:function(){n.forEach(function(t){t.addEventListener(TouchEvent.TAP,g)})}})}})}})}})}}),a.setCapacityTween(0,1),"g0"==a.name?setTimeout(function(){t.glass.setCapacityTween("14.3%",.5)},500):"g1"==a.name?setTimeout(function(){t.glass.setCapacityTween("24%",.5)},500):"g2"==a.name&&setTimeout(function(){t.glass.setCapacityTween("18.3%",.5)},500)}})}else TweenMax.to(this,.4,{x:this.startX,y:this.startY,onComplete:function(){a.children[0].hitTest(e.most)&&TweenMax.to(e.most,.4,{alpha:1}),a.children[0].hitTest(e.lost)&&TweenMax.to(e.lost,.4,{alpha:1}),TweenMax.to(e["w"+a.name.split("g")[1]],.4,{alpha:1,onComplete:function(){instance.NBDownTip.showTip("拖动杯子向量筒中倒水")}})}})}function T(e){t.glass.eye.t0.text=e+"mL",t.glass.eye.t1.text=e+1+"mL",t.glass.eye.t2.text=e+2+"mL"}function g(){n.forEach(function(t){t.alpha=0}),TweenMax.to(this,.4,{alpha:1}),instance.NBDownTip.hideTip(),"ok"==this.name?(x(!1),TweenMax.to(t.table["e"+o].scale,.4,{x:3,y:3,onComplete:function(){TweenMax.to(t.table["e"+o].scale,.4,{x:1,y:1,onComplete:function(){instance.NBDownTip.showTip("请倒出量筒中的液体"),TweenMax.to(t.glass.pushWater,.4,{alpha:1,onComplete:function(){t.glass.pushWater.addEventListener(TouchEvent.TAP,m)}})}})}}),TweenMax.to(t.table["e"+o],.4,{alpha:1})):instance.NBDownTip.showTip("请选择正确的读数")}function m(){1==t.glass.pushWater.alpha&&(instance.NBDownTip.hideTip(),t.glass.setCapacityTween("0",.5),TweenMax.to(t.glass.eye,.4,{alpha:0}),setTimeout(function(){x(!0)},500),TweenMax.to(this,.4,{alpha:0}))}function x(t){for(var n=0;n<3;n++)e["g"+n].interactive=t;a.error0.interactive=t,a.error1.interactive=t,a.ok.interactive=t}this.onUpdate=function(){}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"量筒是专门用来测量液体体积的玻璃容器。用量筒测量下面三瓶水，比较水的多少。",labName:"用量筒测量水量",title0:"将水导入量筒",CONCLUSION:"用量筒比较水的多少结果更精确。",newLayOut:!0,noTitle:!0},const:{},event:{}}),t.exports=nb.substance0630}});