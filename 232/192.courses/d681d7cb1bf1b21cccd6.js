webpackJsonp([192],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,a){for(var n=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,s=i||!1,o=a||{addArrow:!1,type:"horizontal",scale:1},h=new PIXI.Container,l=0;l<3;++l){var d=l+1,v=PIXI.Sprite.fromFrame("TAP_1"+d);v.x=-v.width/2,v.y=-v.height/2;var c=new PIXI.Container;c.addChild(v),h.addChild(c)}var m=0;if(o.direction)switch(o.direction){case"top":m=-Math.PI/2;break;case"bottom":m=Math.PI/2;break;case"left":m=Math.PI;break;case"right":m=0;break;default:m=0}h.filters=[r];for(var f=0;f<h.children.length;f++){var p=h.children[f];p.scale.x=p.scale.y=2,f<2&&w(p,.75*f)}if(n.addChild(h),o.addArrow){var u,T;if(o.direction){u=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([u]);var E=o.scale?o.scale:1;T.scale.x=T.scale.y=E,T.pivot={x:0,y:T.height/2},T.rotation=m}else{u=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([u])).pivot={x:T.width/2,y:T.height/2};var y=o.scale?o.scale:1;T.scale.x=T.scale.y=y,"horizontal"!==(o.type?o.type:"horizontal")&&(T.rotation=Math.PI/2)}n.addChild(T),n.arrow=T,n.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),n.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}h.alpha=.4;var g=new PIXI.Graphics;function w(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return g.beginFill(16776960,0),g.drawRect(-50,-50,100,100),n.addChild(g),n.addEventListener(MouseEvent.MOUSE_OVER,function(){h.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){h.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!s&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=e,n.setColor=function(t){var e=t>>16,i=t>>8&255,a=255&t;r._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),h.filters=[r]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(o.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(e),e.pivot={x:0,y:T.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(i),i.pivot={x:T.width/2,y:T.height/2},i.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},493:function(t,e,i){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(i(169));nb.substance0676=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1,instance.step0.apply(this.step0)},step0:function(){var t=this,e=[];t.mags=e,function(){for(var e=0;e<2;e++){var i=t["m"+e],a=t["mag"+2*e],r=t["mag"+(2*e+1)];a.alpha=0,r.alpha=0,i.mag0=a,i.mag1=r,i.type=e,n(i)}}();var i=(0,a.default)(0,0);function n(t){var e=t.mag0.clone(),i=t.mag1.clone();e.small=i,e.m=t,t.mClone=e,i.position=e.position,e.position.set(t.x,t.y),NBDrag.addDrag(e),e.addEventListener(NBDrag.event.START_DRAG,r),e.addEventListener(NBDrag.event.STOP_DRAG,s)}function r(){this.alpha=1,this.small.alpha=1,t.addChild(this.small),t.addChild(this),t.m0.removeChild(i)}function s(){var a=e.length;if(a>0&&e[a-1].y-e[a-1].height<t.magTarget.y)TweenMax.to([this,this.small],.5,{x:this.m.x,y:this.m.y,alpha:0});else if(this.hitTest(t.hitArea0)){t.m0.isHit=!0,e.push(this),a>0&&(e[a-1].canDown||e[a-1].m.type!==this.m.type)?this.canDown=!0:this.canDown=!1,NBDrag.removeDrag(this),this.removeEventListener(NBDrag.event.START_DRAG,r),this.removeEventListener(NBDrag.event.STOP_DRAG,s),this.position.set(t.magTarget.x,t.magTarget.y),t.setChildIndex(this.small,0);var h=void 0;if(h=0==a?this.y+310:a>0&&e[a-1].m.type!==this.m.type?e[a-1].y-40:e[a-1].y-18.5,this.initY=h,TweenMax.to(this,.3,{y:""+h,onComplete:function(){d()}}),this.addEventListener(TouchEvent.TOUCH_BEGIN,o),a>0)e[a-1].removeEventListener(TouchEvent.TOUCH_BEGIN,o);n(this.m)}else TweenMax.to([this,this.small],.5,{x:this.m.x,y:this.m.y,alpha:0,onComplete:function(){t.m0.isHit||t.m0.addChild(i)}})}function o(t){e.pop(),d(),this.diffX=this.x-t.data.global.x,this.diffY=this.y-t.data.global.y,this.currentX=this.x,this.currentY=this.y,this.canMove=!1,this.addEventListener(TouchEvent.TOUCH_MOVE,h),this.addEventListener(TouchEvent.TOUCH_END,l),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,l)}function h(e){var i=this.diffX+e.data.global.x,a=this.diffY+e.data.global.y;this.canMove?(this.x=i,this.y=a,t.addChild(this.small),t.addChild(this)):a<=this.currentY?(this.y=a,a<=t.magTarget.y&&(this.canMove=!0)):this.y=this.currentY}function l(){var i=this;if(this.removeEventListener(TouchEvent.TOUCH_MOVE,h),this.removeEventListener(TouchEvent.TOUCH_END,l),this.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,l),this.hitTest(t.hitArea0)||!this.canMove)e.push(this),t.setChildIndex(this.small,0),this.hitTest(t.hitArea0)&&this.position.set(t.magTarget.x,t.magTarget.y),TweenMax.to(this,.3,{y:this.currentY,x:this.currentX,onComplete:function(){d()}});else{var a=e.length;a>0&&e[a-1].addEventListener(TouchEvent.TOUCH_BEGIN,o),TweenMax.to([this,this.small],.5,{x:this.m.x,y:this.m.y,alpha:0,onComplete:function(){NBDrag.addDrag(i),i.addEventListener(NBDrag.event.START_DRAG,r),i.addEventListener(NBDrag.event.STOP_DRAG,s),i.removeEventListener(TouchEvent.TOUCH_BEGIN,o)}})}}function d(){for(var t=0,i=1;i<e.length;i++){e[i].canDown&&t++}for(var a=1;a<e.length;a++){var n=e[a],r=e[a-1],s=void 0;n.canDown&&(s=r.m.type!==n.m.type?r.initY-40+t:r.initY-18.5,n.initY=s,TweenMax.killTweensOf(n),TweenMax.to(n,.3,{y:s}),t>0&&t--)}}t.m0.addChild(i)},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"拿几个环形磁铁，我们来玩一玩。",labName:"玩环形磁铁",newLayOut:!0,isOffset:!0,bgColor:"#F3E6CF"},const:{},event:{}}),t.exports=nb.substance0676}});