webpackJsonp([149],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=a||!1,l=n||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,d=0;d<3;++d){var c=d+1,p=PIXI.Sprite.fromFrame("TAP_1"+c);p.x=-p.width/2,p.y=-p.height/2;var f=new PIXI.Container;f.addChild(p),s.addChild(f)}var u=0;if(l.direction)switch(l.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}s.filters=[o];for(var h=0;h<s.children.length;h++){var v=s.children[h];v.scale.x=v.scale.y=2,h<2&&x(v,.75*h)}if(i.addChild(s),l.addArrow){var m,C;if(l.direction){m=PIXI.Sprite.fromFrame("oneArrow"),C=new PIXI.extras.MovieClip([m]);var w=l.scale?l.scale:1;C.scale.x=C.scale.y=w,C.pivot={x:0,y:C.height/2},C.rotation=u}else{m=PIXI.Sprite.fromFrame("NBarrow"),(C=new PIXI.extras.MovieClip([m])).pivot={x:C.width/2,y:C.height/2};var y=l.scale?l.scale:1;C.scale.x=C.scale.y=y,"horizontal"!==(l.type?l.type:"horizontal")&&(C.rotation=Math.PI/2)}i.addChild(C),i.arrow=C,i.addEventListener("hideArrow",function(){C.alpha=0,C.visible=!1}),i.addEventListener("showArrow",function(){C.alpha=1,C.visible=!0})}s.alpha=.4;var T=new PIXI.Graphics;function x(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return T.beginFill(16776960,0),T.drawRect(-50,-50,100,100),i.addChild(T),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;o._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),s.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(l.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:C.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:C.width/2,y:C.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},461:function(e,t,a){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(a(525));nb.substance0638=extendsClass(ScienceMain,{frame0:function(){var e=this.spoon,t=this.beaker,a=this.particle,i=this.gllassRod;i.alpha=0,n.default.dump({from:e,to:t,startColor:16777215,startAlpha:.3,startCapacity:"100%",tip:"将面粉加入清水中",particle:a,endAlpha:.4,substance:e.medicine,onComplete:function(){t.txt.text="面粉";var a=new TimelineMax;a.add([TweenMax.to(e,.8,{alpha:0}),TweenMax.to(i,.8,{alpha:1})]),a.add([n.default.stir({container:t,tool:i,endColor:16777215,endAlpha:.7,onComplete:function(){instance.NBStepsShow(1)}})])}})},frame1:function(){for(var e=[{color:16777215,alpha:.3,capacity:"100%",title:"食盐"},{color:16777215,alpha:.3,capacity:"100%",title:"沙子"},{color:16777215,alpha:.7,capacity:"100%",title:"面粉"}],t=0;t<3;t++){var a=this["beaker"+t],i=e[t];a.txt.text=i.title,n.default.initCapacity(a,i)}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"面粉在水中溶解吗?",labName:"面粉在水中溶解吗",title0:"加入面粉观察现象",title1:"观察三杯混合物",CONCLUSION:"面粉没有溶解，且与沙子和实验在水中的状态不一样。",newLayOut:!0},const:{},event:{}}),e.exports=nb.substance0638},525:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(169));var i={},o=Power0.easeNone;function r(e){if(e){var t=e.getTotalCapacity(),a=e.getCurrentCapacity();e.setCapacityTween(98.5*a/t+"%",.2),setTimeout(function(){e.setCapacityTween(101*a/t+"%",.15)},200)}}i.initCapacity=function(e,t){var a=t.color,n=t.alpha,i=t.capacity;void 0!==a&&e.setColor(a,n),void 0!==i&&e.setCurrentCapacity(i)},i.dump=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},a=Object.assign({isTapPoint:!0,tapPointOffsetX:0,tapPointOffsetY:0,gotoEndTimer:.8,endPointOffsetX:0,endPointOffsetY:0,particleSpeed:1,isGoBack:!0,onBack:function(){}},e),l=a.from,s=a.to,d=a.tapPointOffsetX,c=a.tapPointOffsetY,p=a.isTapPoint,f=a.startColor,u=a.startAlpha,h=a.startCapacity,v=a.endColor,m=a.endAlpha,C=(a.endCapacity,a.tip),w=a.particle,y=a.particleSpeed,T=a.substance,x=a.endPointOffsetX,P=a.endPointOffsetY,I=a.gotoEndTimer,M=a.onInit,S=a.onReady,g=a.onComplete,b=a.isDebug,A=a.isAuto,O=a.isGoBack,_=a.onBack;if(l&&s)return i.initCapacity(s,{color:f,alpha:u,capacity:h}),w&&(w.visible=!1),A||(B(),NBDrag.addDrag(l),l.addEventListener(NBDrag.event.START_DRAG,E),l.addEventListener(NBDrag.event.STOP_DRAG,N),l._dumpStartX=l.x,l._dumpStartY=l.y),D(M),A&&(t.dumpPlay=X),t;function D(e){"function"==typeof e&&e()}function E(){instance.NBDownTip.hideTip();var e=l._dumpTapPoint;e&&(l.removeChild(e),l._dumpTapPoint=null)}function N(){(s.hitBox||s).hitTest(l)?X():O?(NBDrag.removeDrag(l),TweenMax.to(l,.8,{x:l._dumpStartX,y:l._dumpStartY,onComplete:function(){NBDrag.addDrag(l),B(),D(_)}})):B()}function X(){l.removeEventListener(NBDrag.event.START_DRAG,E),l.removeEventListener(NBDrag.event.STOP_DRAG,N),NBDrag.removeDrag(l);var e=w||s,t=e.x,a=e.y,n=new TimelineMax({onComplete:g});if(n.to(l,I,{x:t+x,y:a+P,onComplete:function(){D(S)}}),!b){var i=[TweenMax.to(l,.4,{rotation:"-=0.5"})];if(T&&i.push(TweenMax.to(T.scale,.5,{x:0,y:0})),w){var d=w.totalFrames,c=.05*d*y;i.push(TweenMax.to(w,c,{onStart:function(){w.visible=!0;new TimelineMax;r(s)},onUpdate:function(){},currentFrame:d,ease:o}))}(v||m)&&i.push(s.setColor(v||f,m||u,{timer:.8})),n.add(i)}}function B(){if(p){var e=(0,n.default)(d,c);l._dumpTapPoint=e,l.addChild(e)}C&&instance.NBDownTip.showTip(C)}console.error("请准确传入from, to")},i.stir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({timer:.6,repeat:6},e),a=t.container,n=t.tool,i=t.endColor,l=t.endAlpha,s=(t.endCapacity,t.distance),d=t.onStart,c=t.onComplete,p=t.repeat,f=t.timer;if(a&&n){void 0===s&&(s=.5*a.width);var u=new TimelineMax({onStart:d,onComplete:c}),h=[TweenMax.to(n,f,{repeat:p,yoyo:!0,x:"+="+s,ease:o,onStart:function(){r(a)}})];return(i||l)&&h.push(a.setColor(i,l,{timer:f*p})),u.add(h),-1===p&&(n.stirStop=function(){TweenMax.killTweensOf(u)}),u}console.error("请准确传入container, tool")},t.default=i}});