webpackJsonp([237],{498:function(t,n,i){"use strict";var e=function(t){return t&&t.__esModule?t:{default:t}}(i(547));nb.substance0682=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var t=this,n=t.calc,i=t.table,r=t.btn,a=new PIXI.Graphics;i.addChild(a),(0,e.default)(n,{accuracy:1,digit:3,onInit:function(){n.btn_e.num.text="插入"}}),n.addEventListener(e.default.event.FINISH,function(i){o.txt.text=i,setTimeout(function(){t.removeChild(n)},100)}),n.addEventListener(e.default.event.INPUT,function(){console.log("INPUT")}),r.addEventListener(TouchEvent.TAP,function(){for(var e=0;e<14;e++){var r=i["area"+e];r.txt.text="",r.yesOrNo&&(i.removeChild(r.yesOrNo),i.addChild(r))}t.removeChild(n)}),function(){for(var e=0;e<14;e++){var r=i["area"+e];r.id=e,r.addEventListener(TouchEvent.TOUCH_BEGIN,s);var a=i["txt"+e];r.txt=a,a.text="";var o=i["yesOrNo"+e];o&&(r.yesOrNo=o,i.removeChild(o),o.yes.txt=a,o.no.txt=a,o.yes.addEventListener(TouchEvent.TOUCH_BEGIN,c),o.no.addEventListener(TouchEvent.TOUCH_BEGIN,c))}t.removeChild(n)}();var o=i.area0;function s(){if(o.yesOrNo&&(i.removeChild(o.yesOrNo),i.addChild(o)),o=this,this.yesOrNo)this.txt.text="",t.removeChild(n),i.removeChild(this),i.addChild(this.yesOrNo);else{t.addChild(n);var e=t.toLocal(i.toGlobal(this.position));n.x=e.x+this.width,n.y=e.y-50}a.clear(),a.lineStyle(2,16776960,1),a.drawRect(this.x,this.y,this.width,this.height)}function c(){var t=this.parent;i.removeChild(t),this.txt.text=this.text,i.addChild(o)}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"分享你制作的时间胶囊。",labName:"制作时间胶囊",title0:"无",CONCLUSION:"无",noTitle:!0,newLayOut:!0,isOffset:!0,bgColor:"#6699CC"},const:{},event:{}}),t.exports=nb.substance0682},547:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var component=function component(obj){var config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},calculator=obj||this,isFinish=!1,accuracy=config.accuracy,digit=config.digit,isLED=config.isLED,onInit=config.onInit;void 0!==accuracy&&(accuracy<<=0),void 0!==digit&&(digit<<=0),isLED=void 0===isLED||!!isLED;var configArr={d:{_showChar:"÷",_innerChar:"/",_isChar:!0},m:{_showChar:"×",_innerChar:"*",_isChar:!0},s:{_showChar:"-",_innerChar:"-",_isChar:!0},a:{_showChar:"+",_innerChar:"+",_isChar:!0},e:{_showChar:"=",_innerChar:"=",_isChar:!1,_func:finish},c:{_showChar:"C",_innerChar:"",_isChar:!1,_func:clear},p:{_showChar:".",_innerChar:"."}},calString="";function initLayout(){calculator.children.forEach(function(t){var n=t.name;if(n&&-1!==n.indexOf("btn_")){var i=n.substr(4),e=configArr[i];e?(Object.assign(t,e),i=e._showChar):t._innerChar=i,t.num.text=i,initEvent(t)}}),NBDrag.addDrag(calculator),"function"==typeof onInit&&onInit()}function initEvent(t){function n(){t.bg.gotoAndStop(0)}t.addEventListener(TouchEvent.TOUCH_BEGIN,function(){if(t.bg.gotoAndStop(1),t._func)return void t._func();(void 0===t._isChar||t._isChar)&&updateString(t._innerChar)}),t.addEventListener(TouchEvent.TOUCH_END,n),t.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,n)}function updateString(t){if(isFinish&&(isCalChar(t)||(calString=""),isFinish=!1),isCalChar(t)&&isCalChar(calString.substr(-1))){var n=calString.length;calString=calString.substr(0,n-1)+t}else{var i=getNowNum();"."!==t?calString+=t:-1===i.indexOf(".")&&(Number.isNaN(parseFloat(i))?calString+="0.":calString+=t),clearNowNum(),updateLED(t)}}function isCalChar(t){return"+"===t||"-"===t||"*"===t||"/"===t}function getNowNum(){var t="",n=calString.split("").reverse().join("").match(/[+|\-|*|\/]/);if(null!==n){if(!(n=n.index))return"";t=calString.substr(-n)}else t=""+calString;return t}function clearNowNum(){var t=getNowNum(),n=parseFloat(t),i=t.indexOf(".");if(Number.isNaN(n)||-1!==i){if(accuracy){var e=accuracy,r=t.split(".");if(r.length>=2){r[1].length>=e&&(r[1]=r[1].substr(0,e)),t=r.join(".");var a=calString.length;calString=calString.substr(0,a-getNowNum().toString().length)+t}}}else if(digit&&-1===i){var o=t.split(".");o[0].length>=digit&&(o[0]=o[0].substr(0,digit)),t=o.length>=2?o.join("."):o[0];var s=calString.length;calString=calString.substr(0,s-getNowNum().toString().length)+t}else{var c=calString.length;calString=calString.substr(0,c-t.toString().length)+n}}function updateLED(t){if(!isCalChar(t)){var n=getNowNum();calculator.emit(component.event.INPUT,{char:t,isFinish:isFinish,nowNum:n}),showLED(n)}}function showLED(t){if(isLED){for(var n=0;n<8;n++)calculator["led_"+n].visible=!1;var i=(""+t).substr(0,8).split("").reverse();if(-1!==i.indexOf("."))for(;"0"===i[0];)i.shift();for(var e in i){var r=i[e],a=calculator["led_"+e];a&&(a.visible=!0,"."===r?a.gotoAndStop(10):a.gotoAndStop(r<<0))}}}function finish(){isCalChar(calString.substr(-1))&&(calString=calString.substr(0,calString.length-1));var ans=0;try{if(ans=eval(calString),void 0!==ans&&ans!==1/0&&ans!==-1/0||(ans=0),-1!==ans.toString().indexOf(".")){var nums=ans.toString().split(".");nums[1]&&nums[1].length>=accuracy&&(ans=nums[0]+"."+nums[1].substr(0,accuracy))}calculator.emit(component.event.FINISH,ans)}catch(t){calculator.emit(component.event.ERROR,t)}finally{showLED(ans),calString=ans+"",isFinish=!0}}function clear(){calString="",showLED(0),calculator.emit(component.event.CLEAR)}return initLayout(),clear(),calculator._clear=clear,calculator._getNowNum=getNowNum,calculator};component.event={INPUT:"component.event.INPUT",FINISH:"component.event.FINISH",ERROR:"component.event.ERROR",CLEAR:"component.event.CLEAR"},exports.default=component}});