webpackJsonp([276],{246:function(t,e,i){"use strict";nb.substance0014=extendsClass(ScienceMain,{frame0:function(){var t=this;instance.NBDownTip.showTip("预测哪种物体流得更快一些");var e=function(){this.num.visible=!1,this.startMc.visible=!1,this.startMc.alpha=0,this.restartMc.visible=!1,this.waterAni.gotoAndStop(0),this.oilAni.gotoAndStop(0),t.r1.visible=t.r2.visible=t.r3.visible=!1};this.waterAni.onComplete=function(){console.log("animation complete"),t.r1.visible=t.r2.visible=t.r3.visible=!0,t.b0.containObj&&"a0"==t.b0.containObj.name?t.r1.gotoAndStop(0):t.r1.gotoAndStop(1),t.b1.containObj?t.r2.gotoAndStop(1):t.r2.gotoAndStop(0),t.b2.containObj&&"a1"==t.b2.containObj.name?t.r3.gotoAndStop(0):t.r3.gotoAndStop(1),t.r1.visible&&t.r2.visible&&t.r3.visible&&t.onStepComplete()},t.restartMc.addEventListener(TouchEvent.TAP,function(){e.apply(t),t.restart()}),this.startMc.addEventListener(TouchEvent.TAP,function(){for(var e=0;e<3;e++){var i=t["b"+e];i.containObj&&(i.containObj.interactive=!1);var n=t["r"+(e+1)];n.parent.addChild(n)}t.waterAni.loop=!1,t.waterAni.animationSpeed=.1,t.waterAni.play(),t.oilAni.animationSpeed=.1,t.oilAni.loop=!1,t.oilAni.play(),t.startMc.alpha=.3}),nb.InteractiveDragTempletA.apply(this),this.on(nb.InteractiveDragTempletA.event.EMPTY_A,function(){var t=this;TweenMax.to(this.startMc,.5,{alpha:1,onStart:function(){t.startMc.visible=!0}})}),this.on(nb.InteractiveDragTempletA.event.IS_NOT_EMPTY_A,function(t){t.type===NBDrag.event.STOP_DRAG&&(this.startMc.visible=!1)});!function e(){TweenMax.to(t.a0,.5,{delay:5,x:t.a0.x-30,ease:Sine.easeIn,yoyo:!0,repeat:1,onComplete:e}),TweenMax.to(t.a1,.5,{delay:5,x:t.a1.x-30,ease:Sine.easeIn,yoyo:!0,repeat:1})}(),e.apply(this)},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"水、食用油和洗洁精比赛跑，猜猜谁是第一名呢？",labName:"谁流的更快一些",title0:"拖动预测标签，点击“开始移动”",CONCLUSION:"水流动速度最快，洗洁精流动速度最慢，油流动速度居中。液体会流动，流动的快慢主要是与黏性有关。"},const:{},event:{}}),nb.InteractiveDragTempletA=function(t){null==t?t={offsetX:0,offsetY:0}:(t.offsetX,t.offsetX,t.offsetY,t.offsetY);var e=this;this.showTip=function(){for(o=0;o<i.length;o++){var t=i[o];void 0==t.__tween__&&null!=t.tip&&(t.__tween__=TweenMax.to(t.tip,.3,{alpha:.7,yoyo:!0,repeat:-1})),void 0!=t.tip&&(t.tip.visible=!0),void 0!=t.__tween__&&t.__tween__.restart()}},this.hideTip=function(){for(o=0;o<i.length;o++){var t=i[o];void 0!=t.__tween__&&(t.__tween__.pause(),t.tip.visible=!1)}};var i=[];for(o=0;o<int.MAX_VALUE;o++){var n=this["b"+o];if(void 0==n)break;n.tip&&(n.tip.visible=!1),i.push(n)}for(var a=[],o=0;o<int.MAX_VALUE;o++){var s=this["a"+o];if(void 0==s)break;a.push(s),s.__defaultPosX__=s.x,s.__defaultPosY__=s.y,NBDrag.addDrag(s),s.getIsContainedObj=function(){return this.lastContainedObj},s.addEventListener(NBDrag.event.START_DRAG,function(t){this.parent.addChild(this),instance.NBDownTip.hideTip();for(var n=t.target.name,a=0;a<i.length;a++){var o=i[a];if(void 0!=o.tip){var s=o.tip,l=t.target.clone();o.addChild(l),o.tip=l,l.position.set(s.x,s.y),o.removeChild(s)}}t.target.name=n,null!=this.isContainedObj&&(this.isContainedObj.containObj=null,this.isContainedObj=null),TweenMax.killTweensOf(this),e.showTip(),r.apply(e,[NBDrag.event.START_DRAG,this])}),s.addEventListener(NBDrag.event.STOP_DRAG,function(){for(var n=0;n<i.length;n++){var a=i[n],o=this.hitArea||this,s=a.hitArea||a;if(o.hitTest(s)){if(TweenMax.to(this,.5,{x:a.x+t.offsetX,y:a.y+t.offsetY}),this.isContainedObj=a,null!=a.containObj){var l,h,p=a.containObj;null!=this.lastContainedObj?(l=this.lastContainedObj.x+t.offsetX,h=this.lastContainedObj.y+t.offsetY,p.lastContainedObj=this.lastContainedObj,p.isContainedObj=this.lastContainedObj,this.lastContainedObj.containObj=p):(l=p.__defaultPosX__,h=p.__defaultPosY__,p.lastContainedObj=null,p.isContainedObj=null),p.name!==this.name&&TweenMax.to(p,.5,{x:l,y:h})}a.containObj=this,this.lastContainedObj=a;break}}n==i.length&&(TweenMax.to(this,.5,{x:this.__defaultPosX__,y:this.__defaultPosY__}),this.isContainedObj=null,this.lastContainedObj=null),e.hideTip(),r.apply(e,[NBDrag.event.STOP_DRAG,this])})}var r=function(t,e){for(var n=0;n<a.length;n++){if(!a[n].isContainedObj){this.emit(nb.InteractiveDragTempletA.event.IS_NOT_EMPTY_A,{target:this,type:t,item:e});break}n==a.length-1&&this.emit(nb.InteractiveDragTempletA.event.EMPTY_A,{target:this,type:t,item:e})}for(n=0;n<i.length;n++){if(null==i[n].containObj){this.emit(nb.InteractiveDragTempletA.event.IS_NOT_FULL_B,{target:this,type:t,item:e});break}n==i.length-1&&this.emit(nb.InteractiveDragTempletA.event.FULL_B,{target:this,type:t,item:e})}};this.restart=function(){for(var t=0;t<a.length;t++){var e=a[t];e.x=e.__defaultPosX__,e.y=e.__defaultPosY__;var i=e.isContainedObj;e.isContainedObj=null,e.lastContainedObj=null,null!=i&&(i.containObj=null)}}},nb.InteractiveDragTempletA.event={EMPTY_A:"emptyA",FULL_B:"fullB",IS_NOT_EMPTY_A:"isNotEmptyA",IS_NOT_FULL_B:"isNotFullB"},t.exports=nb.substance0014}});