webpackJsonp([198],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var r=new PIXI.Container,i=new PIXI.filters.ColorMatrixFilter,o=a||!1,l=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,s=0;s<3;++s){var h=s+1,c=PIXI.Sprite.fromFrame("TAP_1"+h);c.x=-c.width/2,c.y=-c.height/2;var p=new PIXI.Container;p.addChild(c),d.addChild(p)}var f=0;if(l.direction)switch(l.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}d.filters=[i];for(var w=0;w<d.children.length;w++){var v=d.children[w];v.scale.x=v.scale.y=2,w<2&&M(v,.75*w)}if(r.addChild(d),l.addArrow){var u,x;if(l.direction){u=PIXI.Sprite.fromFrame("oneArrow"),x=new PIXI.extras.MovieClip([u]);var T=l.scale?l.scale:1;x.scale.x=x.scale.y=T,x.pivot={x:0,y:x.height/2},x.rotation=f}else{u=PIXI.Sprite.fromFrame("NBarrow"),(x=new PIXI.extras.MovieClip([u])).pivot={x:x.width/2,y:x.height/2};var m=l.scale?l.scale:1;x.scale.x=x.scale.y=m,"horizontal"!==(l.type?l.type:"horizontal")&&(x.rotation=Math.PI/2)}r.addChild(x),r.arrow=x,r.addEventListener("hideArrow",function(){x.alpha=0,x.visible=!1}),r.addEventListener("showArrow",function(){x.alpha=1,x.visible=!0})}d.alpha=.4;var I=new PIXI.Graphics;function M(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return I.beginFill(16776960,0),I.drawRect(-50,-50,100,100),r.addChild(I),r.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),r.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),r.addEventListener(TouchEvent.TOUCH_BEGIN,function(){r.emit(r.event.TAP),!o&&r.parent&&r.parent.removeChild(r)}),r.x=e,r.y=t,r.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;i._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[i]},r.setRotation=function(e){r.rotation=e},r.showAllDir=function(){if(l.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),r.addChild(t),t.pivot={x:0,y:x.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),r.addChild(a),a.pivot={x:x.width/2,y:x.height/2},a.rotation=r.rotation+Math.PI/2}},r.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&r.scale.set(.6,.6),r}},443:function(e,t,a){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(a(169));nb.substance0622=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.table,a=e.bottle;a.setCurrentCapacity("0%"),e.target1.alpha=0,e.target0.alpha=0;var r=a.x,i=a.y;e.btn.alpha=0,e.btn.interactive=!1;var o=!1,l=[];e.btn.addEventListener(TouchEvent.TAP,function n(){instance.NBDownTip.hideTip();e.btn.removeEventListener(TouchEvent.TAP,n);nb.GlobalEffect.fadeOut(e.btn);o=!0;e.tar===e.target1?a.setCapacityTween("22.5%",3):a.setCapacityTween("15%",3);setTimeout(function(){o=!1,TweenMax.to(a.scale,1,{x:1.5,y:1.5,delay:1}),TweenMax.to(a,1,{x:485,y:i,ease:Sine.easeInout,delay:1}),t.txt0.alpha=t.txt1.alpha=0,e.tar===e.target0?t.txt0.text="10mm":t.txt1.text="15mm",TweenMax.to([t.txt0,t.txt1],.5,{alpha:1})},3e3)}),NBDrag.addDrag(a);var d=(0,n.default)(a.width/2,a.height/2);a.addChild(d);var s=a.hitAreas;function h(t){e.tar=t,NBDrag.removeDrag(a),TweenMax.to(a,.5,{x:t.x,y:t.y}),TweenMax.to([e.target0,e.target1],.8,{alpha:0,onComplete:function(){TweenMax.to(e.btn,.8,{alpha:1,onComplete:function(){e.btn.interactive=!0,instance.NBDownTip.showTip("点击开始降雨按钮降雨")}})}})}instance.NBDownTip.showTip("拖动量雨器到室内或室外收集雨水"),a.addEventListener(NBDrag.event.START_DRAG,function(){TweenMax.killTweensOf(e.target0),TweenMax.killTweensOf(e.target1),TweenMax.to([e.target0,e.target1],.8,{alpha:.5}),a.removeChild(d),e.txt.alpha=0,instance.NBDownTip.hideTip()}),a.addEventListener(NBDrag.event.STOP_DRAG,function(){a.interactive=!1,s.hitTest(e.target0)?h(e.target0):s.hitTest(e.target1)?h(e.target1):(TweenMax.killTweensOf(e.target0),TweenMax.killTweensOf(e.target1),TweenMax.to([e.target0,e.target1],.5,{alpha:0}),TweenMax.to(a,.5,{x:r,y:i,ease:Sine.easeInout,onComplete:function(){a.addChild(d),e.txt.alpha=1,instance.NBDownTip.showTip("拖动量雨器到室内或室外收集雨水"),a.interactive=!0}}))});var c=new PIXI.Graphics;e.addChild(c),this.onUpdate=function(){if(c.clear(),o){for(var t=0;t<20;t++){var a={x:Math.random()*ScienceMain.W-50,y:100*Math.random(),r:2.2*(Math.random()+1),alpha:.2};l.push(a)}for(var n=0;n<l.length;n++)c.beginFill(16777215,l[n].alpha),c.drawCircle(l[n].x,l[n].y,l[n].r),l[n].x+=10,l[n].y+=50,l[n].alpha+=.01,l[n].y>e.y+1536&&l.splice(n,1);for(var r=0;r<8;r++){var i=e["drop"+r];i.alpha=.5,!TweenMax.isTweening(i)&&l[r].y>e.bottle.y+500?(i.gotoAndStop(0),i.x=l[r].x,i.y=1e3*Math.random()+(e.bottle.y+100),TweenMax.to(i,Math.random(),{currentFrame:i.totalFrames-1,ease:Linear.easeNone,onComplete:function(t){var a=t;return function(){e["drop"+a].gotoAndStop(0)}}(r)})):i.gotoAndStop(0)}}}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"用我们自制的量雨器来测量降水量。",labName:"收集和测量降水",CONCLUSION:"请在空旷的户外进行雨水收集。",newLayOut:!0},const:{},event:{}}),e.exports=nb.substance0622}});