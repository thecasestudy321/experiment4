webpackJsonp([28],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,a){for(var r=new PIXI.Container,n=new PIXI.filters.ColorMatrixFilter,o=i||!1,s=a||{addArrow:!1,type:"horizontal",scale:1},h=new PIXI.Container,l=0;l<3;++l){var d=l+1,p=PIXI.Sprite.fromFrame("TAP_1"+d);p.x=-p.width/2,p.y=-p.height/2;var c=new PIXI.Container;c.addChild(p),h.addChild(c)}var u=0;if(s.direction)switch(s.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}h.filters=[n];for(var f=0;f<h.children.length;f++){var b=h.children[f];b.scale.x=b.scale.y=2,f<2&&y(b,.75*f)}if(r.addChild(h),s.addArrow){var v,T;if(s.direction){v=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([v]);var m=s.scale?s.scale:1;T.scale.x=T.scale.y=m,T.pivot={x:0,y:T.height/2},T.rotation=u}else{v=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([v])).pivot={x:T.width/2,y:T.height/2};var x=s.scale?s.scale:1;T.scale.x=T.scale.y=x,"horizontal"!==(s.type?s.type:"horizontal")&&(T.rotation=Math.PI/2)}r.addChild(T),r.arrow=T,r.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),r.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}h.alpha=.4;var g=new PIXI.Graphics;function y(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return g.beginFill(16776960,0),g.drawRect(-50,-50,100,100),r.addChild(g),r.addEventListener(MouseEvent.MOUSE_OVER,function(){h.alpha=.6}),r.addEventListener(MouseEvent.MOUSE_OUT,function(){h.alpha=.4}),r.addEventListener(TouchEvent.TOUCH_BEGIN,function(){r.emit(r.event.TAP),!o&&r.parent&&r.parent.removeChild(r)}),r.x=t,r.y=e,r.setColor=function(t){var e=t>>16,i=t>>8&255,a=255&t;n._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),h.filters=[n]},r.setRotation=function(t){r.rotation=t},r.showAllDir=function(){if(s.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),r.addChild(e),e.pivot={x:0,y:T.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),r.addChild(i),i.pivot={x:T.width/2,y:T.height/2},i.rotation=r.rotation+Math.PI/2}},r.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&r.scale.set(.6,.6),r}},275:function(t,e,i){"use strict";var a=o(i(532)),r=o(i(169)),n=o(i(521));function o(t){return t&&t.__esModule?t:{default:t}}nb.substance0006=extendsClass(ScienceMain,{frame0:function(){var t=this;function e(e){var i=[],n=(0,r.default)(26,15,!0);!function(){var t=e.s0,i=e.s1,a=e.s2,r=e.s3,n=e.drop0,o=e.drop1,s=e.ani0,h=e.ani1;[t,i,a,r,n,o,s,h].forEach(function(t){t.alpha=0})}(),f(),e.cup0.bindArr=[e.s0,e.s2],e.cup1.bindArr=[e.s1,e.s3];var o=[16777215,16776960];for(var s=0;s<2;s++){var h=e["cup"+s];a.default.init.apply(h,[{isDropOver:!1}]),NBDrag.removeDrag(h);var l=h.burette;l.movie.gotoAndStop(14),l.startX=l.x,l.startY=l.y,l.parentObj=h,h.dropColor=o[s],l.movie.capacity=15}function d(){for(var t=0;t<4;t++){var i=e["s"+t];if(this.hitTest(i)&&-1!==this.parentObj.bindArr.indexOf(i)){e.isHit=!0,e.currentB=this,f(),NBDrag.removeDrag(this),TweenMax.to(this.parentObj.bindArr,.3,{alpha:0}),this.parentObj.bindArr.splice(this.parentObj.bindArr.indexOf(i),1),this.isHit=!0,e.addChildWithSamePos(this),TweenMax.to(this,.5,{x:i.x,y:i.y,onComplete:function(){}});break}p(this),TweenMax.to(this.parentObj.bindArr,.3,{alpha:0})}}function p(t){t.parentObj.addChildWithSamePos(t),t.parentObj.setChildIndex(t,0),NBDrag.addDrag(t),TweenMax.to(t,1,{x:t.startX,y:t.startY,ease:Sine.easeInOut,onComplete:function(){f()}})}function c(){instance.NBDownTip.hideTip(),this.point&&this.removeChild(this.point),TweenMax.to(this.parentObj.bindArr,.3,{alpha:.5})}function u(t){var a=this;e.isDrop=!0,a.burette.removeChild(a.burette.point),i.push(t),a.burette.point&&a.burette.removeChild(a.burette.point),setTimeout(function(){p(a.burette)},200)}function f(){e.isHit?e.isHit&&!e.isDrop&&(instance.NBDownTip.showTip("点击滴管滴落液体"),e.currentB.addChild(n),e.currentB.point=n):(instance.NBDownTip.showTip("将水和油分别滴在"+t.currentStep.boardName+"上观察现象"),e.cup0.burette.addChild(n),e.cup0.burette.point=n)}e.cup0.burette.addEventListener(NBDrag.event.STOP_DRAG,d),e.cup1.burette.addEventListener(NBDrag.event.STOP_DRAG,d),e.cup0.burette.addEventListener(NBDrag.event.START_DRAG,c),e.cup1.burette.addEventListener(NBDrag.event.START_DRAG,c),e.cup0.addEventListener(a.default.event.BURETTE_POP,u),e.cup1.addEventListener(a.default.event.BURETTE_POP,u),e.onUpdate=function(){for(var t=0;t<i.length;t++){var a=i[t].drop;a.x+=6;for(var r=i[t].target,n=0;n<2;n++)if(a.hitTest(e["board"+n])){if(0===n)r.parentObj===e.cup0?e.drop0.alpha=1:e.drop1.alpha=1;else if(1===n){var o=void 0;r.parentObj===e.cup0?(o=e.ani0).animationSpeed=.3:(o=e.ani1).animationSpeed=.1,o.alpha=1,o.loop=!1,o.play()}i.splice(i.indexOf(a),1),a.destory()}}}}n.default.apply(t),t.currentStep=t.step0,t.step0.boardName="玻璃板",t.step1.boardName="蜡纸板",e(t.step0),e(t.step1),t.timeline.addEventListener("nodeTap",function(e){t.currentStep=t["step"+e.index]})},bottle_component:function(t){var e=this;e.bottle.burette.movie.gotoAndStop(14),e.bottle.burette.movie.capacity=15,this.drop.scale.x=this.drop.scale.y=.6,this.drop.alpha=0,this.bottle.dropColor=t;var i=[];NBDrag.removeDrag(this.bottle),this.bottle.ref0.flag=!0,this.bottle.ref1.flag=!0;var a=e.bottle.burette.x,r=e.bottle.burette.y;this.bottle.dd.alpha=0,this.bottle.burette.addEventListener(NBDrag.event.START_DRAG,function(){for(var t=0;t<2;t++)1==this.parent.bottle["ref"+t].flag&&(this.parent.bottle["ref"+t].alpha=.4)}),this.bottle.burette.addEventListener(NBDrag.event.STOP_DRAG,function(){if(this.parent===e){for(var t=0;t<2;t++){if(this.hitTest(this.parent.bottle["ref"+t])&&"bottle1"==this.parent.name){var i=this.parent.bottle["ref"+t].x-33,n=this.parent.bottle["ref"+t].y-18;TweenMax.to(e.bottle.burette,.5,{x:i,y:n}),this.parent.bottle["ref"+t].flag=!1;for(var o=0;o<2;o++)this.parent.bottle["ref"+o].alpha=0}if(this.hitTest(this.parent.bottle["ref"+t])&&"bottle2"==this.parent.name){var s=this.parent.bottle["ref"+t].x-210,h=this.parent.bottle["ref"+t].y-18;TweenMax.to(e.bottle.burette,.5,{x:s,y:h}),this.parent.bottle["ref"+t].flag=!1;for(var l=0;l<2;l++)this.parent.bottle["ref"+l].alpha=0}if(this.hitTest(this.parent.bottle["ref"+t])&&"bottle3"==this.parent.name){var d=this.parent.bottle["ref"+t].x-33,p=this.parent.bottle["ref"+t].y-18;TweenMax.to(e.bottle.burette,.5,{x:d,y:p}),this.parent.bottle["ref"+t].flag=!1;for(var c=0;c<2;c++)this.parent.bottle["ref"+c].alpha=0}if(this.hitTest(this.parent.bottle["ref"+t])&&"bottle4"==this.parent.name){var u=this.parent.bottle["ref"+t].x-210,f=this.parent.bottle["ref"+t].y-18;TweenMax.to(e.bottle.burette,.5,{x:u,y:f}),this.parent.bottle["ref"+t].flag=!1;for(var b=0;b<2;b++)this.parent.bottle["ref"+b].alpha=0}}if(!this.hitTest(this.parent.bottle.ref0)&&!this.hitTest(this.parent.bottle.ref1)&&"bottle1"==this.parent.name){TweenMax.to(e.bottle.burette,.5,{x:a+10,y:r+20});for(var v=0;v<2;v++)this.parent.bottle["ref"+v].alpha=0}if(!this.hitTest(this.parent.bottle.ref0)&&!this.hitTest(this.parent.bottle.ref1)&&"bottle2"==this.parent.name){TweenMax.to(e.bottle.burette,.5,{x:a-160,y:r+20});for(var T=0;T<2;T++)this.parent.bottle["ref"+T].alpha=0}if(!this.hitTest(this.parent.bottle.ref0)&&!this.hitTest(this.parent.bottle.ref1)&&"bottle3"==this.parent.name){TweenMax.to(e.bottle.burette,.5,{x:a+10,y:r+20});for(var m=0;m<2;m++)this.parent.bottle["ref"+m].alpha=0}if(!this.hitTest(this.parent.bottle.ref0)&&!this.hitTest(this.parent.bottle.ref1)&&"bottle4"==this.parent.name){TweenMax.to(e.bottle.burette,.5,{x:a-160,y:r+20});for(var x=0;x<2;x++)this.parent.bottle["ref"+x].alpha=0}}}),this.bottle.on(nb.buretteEvent.BURETTE_POP,function(t){i.push(t.drop)}),this.onUpdate=function(){for(var t=0;t<i.length;t++){var a=i[t];if(a.hitTest(e.ref)&&e.drop.scale.x<1){i.splice(i.indexOf(a),1),a.destory(),instance.const.type===instance.const.alpha?e.drop.alpha+=.1:e.drop.alpha=1;var r=e.drop.scale.x-.1;(r+=.1)>1&&(r=1),e.drop.scale.x=e.drop.scale.y=r}if(a.hitTest(e.bottle.dd)){e.bottle.dd.alpha=1,e.bottle.dd.play(),e.bottle.dd.loop=!1,e.bottle.dd.animationSpeed=.1,i.splice(i.indexOf(a),1),a.destory();var n=e.drop.scale.x-.1;(n+=.1)>1&&(n=1),e.drop.scale.x=e.drop.scale.y=n}}}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"水的表面张力托起了轻小的物体。我们一起来认识水的表面张力。",labName:"水和油滴比较",CONCLUSION:"水面会成一个圆弧状，表面的水有一股相互之间拉着的力，这就是水的表面张力。水比油的表面张力要大。",newLayOut:!0,bgColor:"#000"},const:{alpha:"alpha",type:"",dropColor1:16777215,dropColor2:11513915},event:{}}),t.exports=nb.substance0006},520:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,i=this;if(i.bgMask){var r=i.bgMask.getChildAt(0);i.progressBar.mask=r,r.scale.x=0}var n=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];i.drag.lastPos={x:i.drag.x,y:i.drag.y};for(var h=0;h<int.MAX_VALUE;h++){var l=this["a"+h];if(void 0===l){e="vertical"===n?this["a"+(h-1)].y:this["a"+(h-1)].x,o=h;break}s.push(l),0===h&&(t="vertical"===n?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===n?TweenMax.to(i.drag,.5,{y:this.y}):TweenMax.to(i.drag,.5,{x:this.x,onComplete:function(){i.emit(a.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),i.drag.lastPos={x:this.x,y:this.y},i.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(r){r?(NBDrag.addDrag(i.drag),i.drag.on(NBDrag.event.START_DRAG,function(){var r=(i.drag.x-t)/(e-t);i.emit(a.event.START_DRAG,{time:r})}),i.drag.on(NBDrag.event.DRAG_MOVE,function(){var r=(i.drag.x-t)/(e-t);i.emit(a.event.DRAGING,{time:r})}),i.drag.on(NBDrag.event.STOP_DRAG,function(){var r=(i.drag.x-t)/(e-t);i.emit(a.event.STOP_DRAG,{time:r}),r>=1&&i.emit(a.event.ON_COMPLETE,{time:r})})):NBDrag.removeDrag(i.drag)},i.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==i._align_){var a=o-1;if("vertical"===n){var r=Math.round((this.y-t)/(e-t)*a);r<0&&(r=0)}else{var s=Math.round((this.x-t)/(e-t)*a);s<0&&(s=0)}}}),i.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()});var d=!1;i.drag.constY=i.drag.y;var p,c=function(){i.drag.y=i.drag.constY,i.drag.x>=e&&(i.drag.x=e),i.drag.x<=t&&(i.drag.x=t);var r=(i.drag.x-t)/(e-t);if(r<1){d=!1,i.emit(a.event.ON_PLAY,{time:r});for(var n=0;n<s.length;n++)i.drag.lastPos.x<=s[n].x&&i.drag.x>s[n].x&&i.emit(a.event.REACHED_NODE,{index:n})}else d||(d=!0,i.emit(a.event.ON_COMPLETE,{time:r}));(i.drag.line0&&(i.drag.line0.rotation=1800*r*Math.PI/180,i.drag.line1.rotation=360*r*Math.PI/180),i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=r);i.drag.lastPos={x:i.drag.x,y:i.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===n?i.drag.y=e.y:i.drag.x=e.x},nb.MovieClip.ticker.add(function(){i._auto_&&!i.drag.isDragging&&("vertical"===n?i.drag.y+=i._speed_:i.drag.x+=i._speed_,c())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(p),t&&!i.NOTafterStopPlay?(i.setAutoPlay(!1),clearTimeout(p),i.setAutoPlay(!1),p=setTimeout(function(){i.setAutoPlay(!0,a)},e)):i.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=0)}}};e.default=a},521:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t||{};var e=this,i=[];a.default.init.apply(this.timeline);for(var r=0;r<this.timeline.getNodeCount();r++){var n=this["step"+r];i.push(n),n.alpha=0,n.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(a.default.event.CLICK_NODE,function(a){if(void 0!==a.index&&a.index!=s){var r=t.offset||1200;r=a.index>s?$s(r):-$s(r);var n=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,t.oldTm||.6,{x:n+r,alpha:0,onComplete:function(e){e.visible=!1,t.isFix||(e.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=a.index,(o=i[s]).visible=!0,n=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=n-r,TweenMax.to(o,t.newTm||1,{x:n,alpha:1,ease:Expo.easeOut,onComplete:function(){e.emit(e.boxSwitch_event.CHANGE_COM,{target:o,index:a.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),e.boxSwitch_event={CHANGE_COM:"changeCom"}};var a=function(t){return t&&t.__esModule?t:{default:t}}(i(520))},532:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(533));var r={event:{BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap",BURETTE_IN_BOTTLE:"buretteInBottle",BACK:"backDefaultPos"},buretteInfo:{EMPTY:"请先在滴管中吸入液体"},init:function(t){r.config={},r.config=Object.assign({isDropOver:!0},t);var e=!0,i=this;this.dropColor=16777215,this.MAX_BOTTLE_CAPACITY=1e3,this.MAX_BURETTE_CAPACITY=15,this.bottle.topValue=this.bottle.water_top.y,this.bottle.bottomValue=this.bottle.water_bottom.y,this.bottle.max_capacity=this.MAX_BOTTLE_CAPACITY,this.burette.movie.max_capacity=this.MAX_BURETTE_CAPACITY,this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var n={x:this.burette.x,y:this.burette.y},o=this;NBDrag.addDrag(this.burette),NBDrag.addDrag(this),a.default.init.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},Object.defineProperty(this.bottle,"capacity",{get:function(){return this._capacity||0},set:function(t){var e=-(this.topValue-this.bottomValue);this._capacity=t;var i=t/o.MAX_BOTTLE_CAPACITY;this.water_middle.height=e*i,this.water_top.y=this.bottomValue-e*i}}),this.setEnabled=function(t){e=t,!1===t&&TweenMax.killTweensOf(this.burette)},this.getEnabled=function(){return e},this.bottle.capacity=this.MAX_BOTTLE_CAPACITY;var s=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,TweenMax.killTweensOf(this),s.addChildWithSamePos(this)}),this.burette.on(NBDrag.event.STOP_DRAG,function(){o.isCorver()&&(this.x=n.x,this.y=n.y,i.addChildAt(this,0),this.emit(r.event.BURETTE_IN_BOTTLE))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(t){t&&this.clickBurette()}),this.burette.clickBurette=function(){var t=this;if(r.config.isDropOver&&i.emit(r.event.BURETTE_TAP),!1!==e){var a=o.burette.movie.capacity;!1!==o.isCorver()||!0!==o.burette.movie.isEmpty()?TweenMax.to(this,1.5,{onUpdate:function(){if(o.isCorver())0==o.burette.movie.isFull()&&0==o.bottle.isEmpty()&&this.progress()>(o.burette.movie.capacity-a)/(o.burette.movie.max_capacity-a)&&(o.burette.movie.capacity++,o.bottle.capacity--);else if(0==o.burette.movie.isEmpty()&&1-this.progress()<o.burette.movie.capacity/a){o.burette.movie.capacity--;var e=new PIXI.Graphics;e.beginFill(i.dropColor,.3),e.drawEllipse(0,0,$s(6),$s(12)),o.burette.movie.addChild(e),e.x=o.burette.movie.width/2-5,e.y=o.burette.movie.height,e.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this))},TweenMax.to(e,1,{y:e.y+$s(800),alpha:0,onComplete:function(t){t.destory()},onCompleteParams:[e]}),o.emit(r.event.BURETTE_POP,{target:o.burette,drop:e})}r.config.isDropOver||TweenMax.killTweensOf(t)}}):instance.NBDownTipsError.showTip(r.buretteInfo.EMPTY)}},this.burette.movie.setCapacity=this.bottle.setCapacity=function(t){this.capacity=t||this.max_capacity},this.burette.backDefaultPos=function(){i.addChildWithSamePos(i.burette),i.addChildAt(i.burette,0),TweenMax.to(i.burette,.5,{x:n.x,y:n.y,ease:Sine.easeInOut,onComplete:function(){i.emit(r.event.BACK)}})}}};e.default=r},533:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={init:function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(t){t<=this.max_capacity&&t>=0&&(t<this.totalFrames&&this.gotoAndStop(t),this._capacity=t)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}}};e.default=a}});