webpackJsonp([158],{487:function(e,t,a){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(a(521));nb.substance0670=extendsClass(ScienceMain,{frame0:function(){var e=this;function t(e){e.board.alpha=e.config.boardAlpha,NBDrag.addDrag(e.magnet),e.magnet.addEventListener(NBDrag.event.START_DRAG,function(){e.magnetTarget0.rotation=this.rotation,TweenMax.to(e.magnetTarget0,.2,{alpha:.3})}),e.magnet.addEventListener(NBDrag.event.STOP_DRAG,function(){this.hitTest(e.magnetTarget0)?function(){var t=!0;e.magnet.interactive=!1;var a=new TimelineMax;a.add(TweenMax.to(e.magnet,.2,{x:e.magnetTarget0.x,y:e.magnetTarget0.y,ease:Sine.easeInOut,onComplete:function(){e.magnetTarget0.alpha=0}})),a.add(TweenMax.to(e.car,.8,{x:e.magnetTarget0.x-e.magnetTarget0.width/2+e.config.carOffset,ease:Power1.easeIn,onUpdate:function(){e.config.boardAni&&e.car.hitTest(e.board)&&(e.board.play(),e.board.loop=!1,e.board.animationSpeed=.7),0!==e.config.boardRotation&&e.car.hitTest(e.board)&&t&&(t=!1,TweenMax.to(e.board,.3,{rotation:e.config.boardRotation}))}}),TweenMax.to([e.car.wheel0,e.car.wheel1],.8,{rotation:Math.PI,ease:Power1.easeIn}))}():(TweenMax.to(e.magnetTarget0,.2,{alpha:0}),TweenMax.to(e.magnet,.5,{x:e.magnet.startPos.x,y:e.magnet.startPos.y,ease:Sine.easeInOut,onComplete:function(){}}))}),e.magnet.startPos={x:e.magnet.x,y:e.magnet.y},e.magnet.addEventListener(NBDrag.event.DRAG_MOVE,function(){e.change.position=e.magnet.position}),e.car.startPos={x:e.car.x,y:e.car.y},e.magnetTarget0.alpha=0}instance.viewStack.NBONOFF.visible=!1,n.default.apply(e),e.step0.config={boardAlpha:0,boardRotation:0,carOffset:0},e.step1.config={boardAlpha:1,boardRotation:-Math.PI/11.5,carOffset:-15},e.step2.config={boardAlpha:1,boardRotation:-Math.PI/11.5,carOffset:-15},e.step3.config={boardAlpha:1,boardRotation:0,boardAni:!0,carOffset:0},t(e.step0),t(e.step1),t(e.step2),t(e.step3),e.timeline.addEventListener("nodeTap",function(t){!function(e){e.config.boardAni&&(e.board.stop(),e.board.gotoAndStop(0));TweenMax.killTweensOf(e.board),TweenMax.killTweensOf(e.magnet),TweenMax.killTweensOf(e.car),e.board.rotation=0,e.magnet.x=e.magnet.startPos.x,e.magnet.y=e.magnet.startPos.y,e.car.x=e.car.startPos.x,e.car.y=e.car.startPos.y,e.car.wheel0.rotation=0,e.car.wheel1.rotation=0,e.magnet.interactive=!0,e.magnetTarget0.alpha=0}(e["step"+t.index])})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"不接触小车，磁铁可以使小车动起来吗？",labName:"使小车动起来",CONCLUSION:"小车朝着磁铁的方向运动。隔着物体，小车动起来了。",newLayOut:!0,isOffset:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance0670},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var g=this["a"+d];if(void 0===g){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(g),0===d&&(e="vertical"===r?g.y:g.x),g.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){u()});var c=!1;a.drag.constY=a.drag.y;var l,u=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){c=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else c||(c=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,u())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(l),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(l),a.setAutoPlay(!1),l=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];a.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,e.oldTm||.6,{x:r+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=n.index,(o=a[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-i,TweenMax.to(o,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:o,index:n.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))}});