webpackJsonp([57,223],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,a){for(var n=new PIXI.Container,s=new PIXI.filters.ColorMatrixFilter,r=i||!1,o=a||{addArrow:!1,type:"horizontal",scale:1},h=new PIXI.Container,l=0;l<3;++l){var d=l+1,p=PIXI.Sprite.fromFrame("TAP_1"+d);p.x=-p.width/2,p.y=-p.height/2;var c=new PIXI.Container;c.addChild(p),h.addChild(c)}var T=0;if(o.direction)switch(o.direction){case"top":T=-Math.PI/2;break;case"bottom":T=Math.PI/2;break;case"left":T=Math.PI;break;case"right":T=0;break;default:T=0}h.filters=[s];for(var b=0;b<h.children.length;b++){var g=h.children[b];g.scale.x=g.scale.y=2,b<2&&w(g,.75*b)}if(n.addChild(h),o.addArrow){var m,u;if(o.direction){m=PIXI.Sprite.fromFrame("oneArrow"),u=new PIXI.extras.MovieClip([m]);var v=o.scale?o.scale:1;u.scale.x=u.scale.y=v,u.pivot={x:0,y:u.height/2},u.rotation=T}else{m=PIXI.Sprite.fromFrame("NBarrow"),(u=new PIXI.extras.MovieClip([m])).pivot={x:u.width/2,y:u.height/2};var f=o.scale?o.scale:1;u.scale.x=u.scale.y=f,"horizontal"!==(o.type?o.type:"horizontal")&&(u.rotation=Math.PI/2)}n.addChild(u),n.arrow=u,n.addEventListener("hideArrow",function(){u.alpha=0,u.visible=!1}),n.addEventListener("showArrow",function(){u.alpha=1,u.visible=!0})}h.alpha=.4;var x=new PIXI.Graphics;function w(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return x.beginFill(16776960,0),x.drawRect(-50,-50,100,100),n.addChild(x),n.addEventListener(MouseEvent.MOUSE_OVER,function(){h.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){h.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!r&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=e,n.setColor=function(t){var e=t>>16,i=t>>8&255,a=255&t;s._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),h.filters=[s]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(o.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(e),e.pivot={x:0,y:u.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(i),i.pivot={x:u.width/2,y:u.height/2},i.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},243:function(t,e,i){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(i(169));nb.substance0003=extendsClass(ScienceMain,{frame0:function(){var t=this,e=this;instance.tipFlag=!1;var i=instance.addParticle(this.break1),n=(0,a.default)(10,100),s=!0;e.ther.big.qs1.t2._style.font=e.ther.big.qs2.t2._style.font="60px Microsoft YaHei",this.onUpdate=function(){i.render(),e.ther.big.qs1.visible&&65===e.ther.getTemp()&&s&&(s=!1,e.ther.addChild(n),instance.NBDownTip.showTip("请拖拽温度计到冷水中"),e.ther.interactive=!0,l=2),e.ther.big.qs2.visible&&10===e.ther.getTemp()&&s&&(s=!1,e.ther.addChild(n),e.ther.interactive=!0,instance.NBDownTip.showTip("请拖拽温度计到热水中"),l=3),(e.ther.big.qs1.visible||e.ther.big.qs2.visible)&&(e.break1.interactive=e.break2.interactive=!1,65!==e.ther.getTemp()&&10!==e.ther.getTemp()||(e.ther.interactive=!0,e.break1.interactive=e.break2.interactive=!0))};var r=e.ther.big.qs1,o=e.ther.big.qs2;r.a1.visible=r.t1.visible=r.a3.visible=r.t3.visible=r.a2.visible=!1,o.a1.visible=o.t1.visible=o.a3.visible=o.t3.visible=o.a2.visible=!1,r.t2.text="65",o.t2.text="10";var h=(0,a.default)(10,100);e.ther.addChild(h),e.ther.Point=h;var l=1,d=0;function p(){1===l?instance.NBDownTip.showTip("请拖拽温度计到冷水/热水中"):l<=2&&("break2"===this.name&&(e.ther.big.qs2.visible?instance.NBDownTip.showTip("请拖拽温度计到热水中"):instance.NBDownTip.showTip("请拖拽温度计到冷水中")),"break1"===this.name&&(e.ther.big.qs1.visible?instance.NBDownTip.showTip("请拖拽温度计到冷水中"):instance.NBDownTip.showTip("请拖拽温度计到热水中")))}e.ther.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),1===l&&e.ther.removeChild(h),2===l&&e.ther.removeChild(n),3===l&&e.ther.removeChild(n),e.ther.startX=e.ther.x,e.ther.startY=e.ther.y}),e.ther.addEventListener(NBDrag.event.STOP_DRAG,function(){t.stepRoot.break1.area.hitTest(e.ther.head)&&(l=2,e.ther.interactive=!1,setTimeout(function(){e.ther.x===e.ther.startX&&e.ther.y===e.ther.startY&&d<=2&&(e.ther.addChild(n),instance.NBDownTip.showTip("请拖拽温度计到冷水中"),d--)},100),d++),t.stepRoot.break2.area.hitTest(e.ther.head)&&(l=3,e.ther.interactive=!1,setTimeout(function(){e.ther.x===e.ther.startX&&e.ther.y===e.ther.startY&&d<=2&&(e.ther.addChild(n),instance.NBDownTip.showTip("请拖拽温度计到热水中"),d--)},100),d++),t.stepRoot.break2.hitTest(e.ther.head)||t.stepRoot.break1.hitTest(e.ther.head)||(1===l?(e.ther.addChild(h),instance.NBDownTip.showTip("请拖拽温度计到冷水/热水中")):2===l&&d<2?(e.ther.addChild(n),instance.NBDownTip.showTip("请拖拽温度计到冷水中")):3===l&&d<2&&(e.ther.addChild(n),instance.NBDownTip.showTip("请拖拽温度计到热水中")))}),e.break1.addEventListener(TouchEvent.TAP,p),e.break2.addEventListener(TouchEvent.TAP,p),this.ther.on(instance.event.THER_HIT_NOTHING,function(){!function(){for(var t=1;t<=3;t++)e.ther.big.qs1["a"+t].gotoAndStop(0),e.ther.big.qs2["a"+t].gotoAndStop(0);e.qs1_bool=!1,e.qs2_bool=!1}()}),this.ther.on(instance.event.THER_HIT_BREAK,function(t){this.stepRoot.hitObj=t.hitObj,instance.tipFlag=!0,"break1"===this.stepRoot.hitObj.name?(e.ther.onStart=instance.magnifierAnimation(11,e.ther),e.ther.setTemp(65,null,4)):(e.ther.onStart=instance.magnifierAnimation(0,e.ther),e.ther.setTemp(10,null,4))}),instance.bigTher.apply(this.ther.big),instance.dragTher.apply(this),this.ther.big.qs1.visible=this.ther.big.qs2.visible=!1,instance.therFunc.apply(this.ther)},addParticle:function(t){var e=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);return t.stepRoot.addChild(e),e.x=t.x+$s(32),e.y=t.y+$s(120),e.scale.x=2.7,e.scale.y=1.9,e.alpha=.4,e},selectOption:function(){this.updateTemp=function(t){this.t1.text=t+2+"°",this.t2.text=t+"°",this.t3.text=t-2+"°",console.log(t)}},magnifierAnimation:function(t,e){(function(){for(var t=1;t<int.MAX_VALUE;t++){var i=e.stepRoot["break"+t];if(void 0===i)break;if(e.head.hitTest(i.area))return!0}return!1})()&&(t>10?(e.big.qs1&&(e.big.qs1.visible=!0,e.big.qs2.visible=!1),TweenMax.to(e.big,.5,{x:$s(225),y:$s(40)}),TweenMax.to(e.big.zoom,.5,{rotation:0})):(e.big.qs1&&(e.big.qs1.visible=!1,e.big.qs2.visible=!0),TweenMax.to(e.big,.5,{x:-$s(200),y:$s(40)}),TweenMax.to(e.big.zoom,.5,{rotation:-Math.PI})))},therFunc:function(t){t=t||{},this.defaultHeight=this.waterColumn.height,this.realTemp=instance.const.defaultTemp,this.waterColumn.height=this.realTemp/100*this.defaultHeight,this.big.qs1&&(this.big.qs1.alpha=0),this.big.qs2&&(this.big.qs2.alpha=0),this.setTemp=function(e,i,a){var n=this.waterColumn.height/this.defaultHeight*100;void 0==a&&(a=Math.abs(e-n)/(t.timerSpeed||instance.const.TIMER_SPEED||30)),0==a&&(a=.01),this.realTemp=e,TweenMax.killTweensOf(this);var s=this.onComplete||i;n!=e&&(this.big.qs1&&(this.big.qs1.alpha=0),this.big.qs2&&(this.big.qs2.alpha=0));var r=TweenMax.to(this,a,{onUpdate:function(t){var e=n+(t.realTemp-n)*r.progress();t.__t=e,t.waterColumn.height=e/100*t.defaultHeight,t.big&&(t.big.qs1,t.big.setTemp(e))},onUpdateParams:[this],onComplete:function(t){t.big.qs1&&1==t.big.qs1.visible?TweenMax.to(t.big.qs1,.4,{alpha:1}):t.big.qs2&&1==t.big.qs2.visible&&TweenMax.to(t.big.qs2,.4,{alpha:1}),s&&s.apply(null,[t])},onCompleteParams:[this],onStart:this.onStart,onStartParams:[e,this]})},this.getTemp=function(){return this.__t||this.realTemp},this.showBigTemp=instance.getNBLib("0003").showBigTemp,this.bottom.addEventListener(TouchEvent.TOUCH_BEGIN,function(){instance.NBDownTipsError.showTip(instance.info.STEP_4)})},showBigTemp:function(t){if(null!=this.big){t?(this.big.visible=!0,TweenMax.to(this.big,.6,{alpha:1})):(this.big.visible=!1,TweenMax.to(this.big,.6,{alpha:0,onComplete:function(t){t.big.visible=!1},onCompleteParams:[this]}))}},dragTher:function(){NBDrag.addDrag(this.ther),this.ther.on(NBDrag.event.START_DRAG,function(){instance.NBDownTipsError.hideTip(),TweenMax.killTweensOf(this)}),this.ther.on(NBDrag.event.STOP_DRAG,function(t){for(var e=t.target.head,i=1;i<=int.MAX_VALUE;i++){var a=this.stepRoot["b"+i];if(void 0===a)break;if(e.hitTest(a))return instance.NBDownTipsError.showTip(instance.info.STEP_6),void(this.interactive=!0)}if(this.stepRoot.bottom1&&this.stepRoot.bottom2&&(e.hitTest(this.stepRoot.bottom1)||e.hitTest(this.stepRoot.bottom2)))return instance.NBDownTipsError.showTip(instance.info.STEP_5),void(this.interactive=!0);if(this.stepRoot.break1&&e.hitTest(this.stepRoot.break1.area)){t.data&&this.moveArea.hitTestPoint(t.data.global)&&SoundManager.play(instance.const.IN_WATER);var n=this.stepRoot.break1.offsetX||$s(110),s=this.stepRoot.break1.offsetY||$s(-270);this.x=this.stepRoot.break1.x+n,this.y=this.stepRoot.break1.y+s,this.big&&(this.big.visible=!0),this.setTemp(this.getTemp(),function(t){return function(){t.bool1=!0,t.checkComplete&&t.checkComplete()}}(this.stepRoot)),this.showBigTemp(!0),this.emit(instance.event.THER_HIT_BREAK,{target:this,hitObj:this.stepRoot.break1})}else if(this.stepRoot.break2&&e.hitTest(this.stepRoot.break2.area)){t.data&&this.moveArea.hitTestPoint(t.data.global)&&SoundManager.play(instance.const.IN_WATER);var r=this.stepRoot.break2.offsetX||$s(90),o=this.stepRoot.break2.offsetY||$s(-270);this.x=this.stepRoot.break2.x+r,this.y=this.stepRoot.break2.y+o,this.setTemp(this.getTemp(),function(t){return function(){t.bool2=!0,t.checkComplete}}(this.stepRoot)),this.showBigTemp(!0),this.emit(instance.event.THER_HIT_BREAK,{target:this,hitObj:this.stepRoot.break2})}else this.setTemp(instance.const.defaultTemp),this.showBigTemp(!1),this.emit(instance.event.THER_HIT_NOTHING,{target:this})})},bigTher:function(){var t=this.waterColumn.height;this.setTemp=function(e){if(this.bigTemp.y=e*$s(1024)/100,void 0===this.bottomHeight){var i=this.bigTemp.getLocalBounds();this.bottomHeight=i.height+i.y}this.bigTemp.y<t-this.bottomHeight?this.waterColumn.height=this.bigTemp.y+this.bottomHeight:this.waterColumn.height=t},this.setTemp(instance.const.defaultTemp);var e=new PIXI.Graphics;e.beginFill(0,1),e.drawCircle(0,0,$s(142.5)),e.x=$s(6),e.y=$s(74),this.addChild(e),this.addChild(this.bigTemp),this.addChild(this.waterColumn),this.bigTemp.mask=e,this.visible=!1,this.alpha=0},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.gotoStep("frame0")},info:{experimentImport:"液体水的温度在0°C～100°C之间。所以我们应该选择测量范围在0°C～100°C的温度计。",labName:"测量水的温度",title0:"测量热水和冷水的温度",STEP_0:"液体水的温度会在0-100℃之间，需要选择测量值在\n0-100℃之间的温度计。",STEP_1:"医用温度计主要用于测量人体体温，精确到0.1度，量程\n35°- 42°。",STEP_2:"家用温度计用于测室内或室外温度，量程: -30度- 50度。",STEP_3:"破损的温度不可以进行使用。",STEP_4:"拿温度计时，手不要碰触温度计的液泡。",STEP_5:"测量时，不要碰到烧杯底",STEP_6:"测量时，不要碰到烧杯壁",STEP_7:"视线与温度计的液面持平，才能观察到准确度数。",STEP_8:"读数时温度计不能离开被测的水，会导致度数不准。",STEP_9:"读数时温度计不能离开被测的水。",CONCLUSION:"用温度计可以测量水的温度，用标准的方法使用温度计，可以得到更精确的实验数据。"},const:{defaultTemp:25,hotTemp:0,coldTemp:0,HOT_TEMP:65,COLD_TEMP:26,IN_WATER:"inWater",TIMER_SPEED:10},event:{THER_HIT_BREAK:"therHitBreak",THER_HIT_NOTHING:"therHitNothing",SELECT_CORRECT:"selectCorrect"}}),t.exports=nb.substance0003},440:function(t,e,i){"use strict";var a=s(i(169)),n=s(i(520));function s(t){return t&&t.__esModule?t:{default:t}}i(243),nb.substance0618=extendsClass(ScienceMain,{frame0:function(){var t=this;$("body").animate({backgroundColor:"#2D2C2B"},1e3),t.timeline.alpha=0,n.default.init.apply(t.timeline);var e=instance.getNBLib("0003");e.therFunc.apply(t.ther),this.ther.onStart=e.magnifierAnimation,e.bigTher.apply(this.ther.big),NBDrag.addDrag(this.ther);var i=(0,a.default)(10,50);t.ther.addChild(i),t.ther.big.visible=!1,instance.NBDownTip.showTip("拖动温度计到不同的地点");var s=t.ther.x,r=t.ther.y;t.timeline.addEventListener(n.default.event.ON_COMPLETE,function(){TweenMax.to(t.timeline,.5,{alpha:0})}),t.timeline.a0.interactive=t.timeline.a1.interactive=!1,this.onUpdate=function(){t.ther.big.zoom.eye.txt.text=(t.ther.getTemp()-30).toFixed(1),t.ther.big.zoom.eye.txt._style.font="60px Microsoft Yahei"};for(var o=[],h=0;h<3;h++){t["b"+h].alpha=0,t["ref"+h].alpha=0;var l=t["ref"+h];l.alpha=0,l.id=h,o.push(l)}t.flag=!0,t.ther.addEventListener(NBDrag.event.STOP_DRAG,function(){for(var e=!1,a=null,n=0;n<o.length;n++)t.ther.moveArea.hitTest(o[n])&&(t.ther.interactive=!1,t.flag=!1,e=!0,a=o[n]);if(e){for(var h=0;h<3;h++)t["ref"+h].alpha=0;o.splice(o.indexOf(a),1),TweenMax.to(t.ther.scale,.5,{x:.5,y:.5}),TweenMax.to(t.ther,.5,{x:a.position.x+30,y:a.position.y+100,onComplete:function(){TweenMax.killTweensOf(t.timeline),t.timeline.alpha=1,t.timeline.setNodePos(0),t["a"+a.id].gotoAndStop(1),t.ther.showBigTemp(!0),0==a.id&&(t.ther.setTemp(48.5),t.timeline.setAutoPlay(!0,12),setTimeout(function(){TweenMax.to(t["b"+a.id],.5,{alpha:1,onComplete:function(){1==t.b0.alpha&&1==t.b1.alpha&&1==t.b2.alpha&&(t.ther.interactive=!1)}}),TweenMax.to(t["b"+a.id].scale,.5,{x:1.5,y:1.5,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(t["b"+a.id].scale,.5,{x:1,y:1,ease:Sine.easeInOut}),1==t.b0.alpha&&1==t.b1.alpha&&1==t.b2.alpha&&(t.timeline.alpha=0)}})},2e3)),1==a.id&&(t.ther.setTemp(50),t.timeline.setAutoPlay(!0,12),setTimeout(function(){TweenMax.to(t["b"+a.id],.5,{alpha:1,onComplete:function(){1==t.b0.alpha&&1==t.b1.alpha&&1==t.b2.alpha&&(t.ther.interactive=!1)}}),TweenMax.to(t["b"+a.id].scale,.5,{x:1.5,y:1.5,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(t["b"+a.id].scale,.5,{x:1,y:1,ease:Sine.easeInOut}),1==t.b0.alpha&&1==t.b1.alpha&&1==t.b2.alpha&&(t.timeline.alpha=0)}})},2e3)),2==a.id&&(t.ther.setTemp(49),t.timeline.setAutoPlay(!0,12),setTimeout(function(){TweenMax.to(t["b"+a.id],.5,{alpha:1,onComplete:function(){1==t.b0.alpha&&1==t.b1.alpha&&1==t.b2.alpha&&(t.ther.interactive=!1)}}),TweenMax.to(t["b"+a.id].scale,.5,{x:1.5,y:1.5,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(t["b"+a.id].scale,.5,{x:1,y:1,ease:Sine.easeInOut}),1==t.b0.alpha&&1==t.b1.alpha&&1==t.b2.alpha&&(t.timeline.alpha=0)}})},2e3)),setTimeout(function(){t.ther.interactive=!0},2e3)}})}else{TweenMax.to(t.ther,.5,{x:s,y:r,onComplete:function(){t.ther.addChild(i),instance.NBDownTip.showTip("拖动温度计到不同的地点")}});for(var l=0;l<3;l++)t["ref"+l].alpha=0}}),t.timeline.addEventListener("change",function(){}),t.ther.addEventListener(NBDrag.event.START_DRAG,function(){t.ther.big.alpha=0,t.timeline.alpha=0,t.ther.removeChild(i),instance.NBDownTip.hideTip("拖动温度计到不同的地点"),t.ther.setTemp(47),t.timeline.setAutoPlay(!0,8);for(var e=0;e<3;e++)0==t["a"+e].currentFrame&&(t["ref"+e].alpha=.4),1==t["a"+e].currentFrame&&(t["ref"+e].visible=!1)})},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"测量室内外的温度。",labName:"室内外温度的测量",CONCLUSION:"室内外温度不同。",newLayOut:!0},const:{defaultTemp:47,hotTemp:0,coldTemp:0,HOT_TEMP:65,COLD_TEMP:26,TIMER_SPEED:1},event:{}}),t.exports=nb.substance0618},520:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,i=this;if(i.bgMask){var n=i.bgMask.getChildAt(0);i.progressBar.mask=n,n.scale.x=0}var s=this.a0.x===this.a1.x?"vertical":"horizontal",r=0,o=[];i.drag.lastPos={x:i.drag.x,y:i.drag.y};for(var h=0;h<int.MAX_VALUE;h++){var l=this["a"+h];if(void 0===l){e="vertical"===s?this["a"+(h-1)].y:this["a"+(h-1)].x,r=h;break}o.push(l),0===h&&(t="vertical"===s?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===s?TweenMax.to(i.drag,.5,{y:this.y}):TweenMax.to(i.drag,.5,{x:this.x,onComplete:function(){i.emit(a.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(o.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),i.drag.lastPos={x:this.x,y:this.y},i.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(n){n?(NBDrag.addDrag(i.drag),i.drag.on(NBDrag.event.START_DRAG,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.START_DRAG,{time:n})}),i.drag.on(NBDrag.event.DRAG_MOVE,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.DRAGING,{time:n})}),i.drag.on(NBDrag.event.STOP_DRAG,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.STOP_DRAG,{time:n}),n>=1&&i.emit(a.event.ON_COMPLETE,{time:n})})):NBDrag.removeDrag(i.drag)},i.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==i._align_){var a=r-1;if("vertical"===s){var n=Math.round((this.y-t)/(e-t)*a);n<0&&(n=0)}else{var o=Math.round((this.x-t)/(e-t)*a);o<0&&(o=0)}}}),i.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()});var d=!1;i.drag.constY=i.drag.y;var p,c=function(){i.drag.y=i.drag.constY,i.drag.x>=e&&(i.drag.x=e),i.drag.x<=t&&(i.drag.x=t);var n=(i.drag.x-t)/(e-t);if(n<1){d=!1,i.emit(a.event.ON_PLAY,{time:n});for(var s=0;s<o.length;s++)i.drag.lastPos.x<=o[s].x&&i.drag.x>o[s].x&&i.emit(a.event.REACHED_NODE,{index:s})}else d||(d=!0,i.emit(a.event.ON_COMPLETE,{time:n}));(i.drag.line0&&(i.drag.line0.rotation=1800*n*Math.PI/180,i.drag.line1.rotation=360*n*Math.PI/180),i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=n);i.drag.lastPos={x:i.drag.x,y:i.drag.y}};this.getNodeCount=function(){return r},this.setNodePos=function(t){var e=this["a"+t];"vertical"===s?i.drag.y=e.y:i.drag.x=e.x},nb.MovieClip.ticker.add(function(){i._auto_&&!i.drag.isDragging&&("vertical"===s?i.drag.y+=i._speed_:i.drag.x+=i._speed_,c())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(p),t&&!i.NOTafterStopPlay?(i.setAutoPlay(!1),clearTimeout(p),i.setAutoPlay(!1),p=setTimeout(function(){i.setAutoPlay(!0,a)},e)):i.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=0)}}};e.default=a}});