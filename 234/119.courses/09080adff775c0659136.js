webpackJsonp([119],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=a||!1,l=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,h=0;h<3;++h){var c=h+1,s=PIXI.Sprite.fromFrame("TAP_1"+c);s.x=-s.width/2,s.y=-s.height/2;var v=new PIXI.Container;v.addChild(s),d.addChild(v)}var p=0;if(l.direction)switch(l.direction){case"top":p=-Math.PI/2;break;case"bottom":p=Math.PI/2;break;case"left":p=Math.PI;break;case"right":p=0;break;default:p=0}d.filters=[o];for(var f=0;f<d.children.length;f++){var u=d.children[f];u.scale.x=u.scale.y=2,f<2&&M(u,.75*f)}if(i.addChild(d),l.addArrow){var x,T;if(l.direction){x=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([x]);var m=l.scale?l.scale:1;T.scale.x=T.scale.y=m,T.pivot={x:0,y:T.height/2},T.rotation=p}else{x=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([x])).pivot={x:T.width/2,y:T.height/2};var g=l.scale?l.scale:1;T.scale.x=T.scale.y=g,"horizontal"!==(l.type?l.type:"horizontal")&&(T.rotation=Math.PI/2)}i.addChild(T),i.arrow=T,i.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),i.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}d.alpha=.4;var w=new PIXI.Graphics;function M(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return w.beginFill(16776960,0),w.drawRect(-50,-50,100,100),i.addChild(w),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;o._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(l.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:T.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:T.width/2,y:T.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},491:function(e,t,a){"use strict";var n=o(a(169)),i=o(a(526));function o(e){return e&&e.__esModule?e:{default:e}}nb.substance0674=extendsClass(ScienceMain,{frame0:function(){var e=this;instance.viewStack.NBONOFF.visible=!1;var t=e.iron,a=e.con,o=e.zhenTxt,r=e.zhen,l=e.paper,d=e.paperWithZhen,h=e.nextBtn,c=[],s=(0,n.default)(-10,-20);e.tp=s;var v=1;function p(){this.txt0.alpha=!1,this.parent.addChild(this),this.removeChild(s)}function f(){var t=this;TweenMax.to(this,.3,{x:this.defaultX,y:this.defaultY,rotation:0,onComplete:function(){"zhen"==t.name?e.zhen_txt0.alpha=1:t.txt0.alpha=!0,t.addChild(s)}})}function u(){var e=new TimelineMax;e.to(t.background.hand,.3,{alpha:1}),e.to([t,r],1,{x:"+= 250",onComplete:function(){!function e(){if(1!=v)return;var a=new TimelineMax;a.to(t,.6,{x:"+= "+x});a.to(t,.2,{alpha:0,onComplete:function(){t.x-=x,TweenMax.to(t,.2,{alpha:1,delay:.5,onComplete:function(){e()}})}})}(),TweenMax.to(h,1,{alpha:1,delay:.5,onComplete:function(){h.interactive=!0}})}})}h.alpha=0,h.addEventListener(TouchEvent.TAP,function(){var n=this;if(1==v){v++,h.interactive=!1,TweenMax.killTweensOf(t);var p=new TimelineMax({onComplete:function(){r.addChild(s),s.y=0,NBDrag.addDrag(r),r.on(NBDrag.event.START_DRAG,T),r.on(NBDrag.event.DRAG_MOVE,w),r.on(NBDrag.event.STOP_DRAG,M)}});p.to([t,h],.3,{alpha:0}),p.add(TweenMax.to(r,1,{x:"-= 250"}),TweenMax.to(c.concat(o).concat(e.zhen_txt0),1.5,{alpha:1}),TweenMax.to(e.txt1,1,{alpha:0})),p.to(e.txt2,.5,{alpha:1})}else if(2==v){v++,h.interactive=!1;for(var u=0;u<3;u++)c[u].alpha=0;var x=new TimelineMax({onComplete:function(){for(var t=0;t<3;t++)r.removeChild(c[t]);(0,i.default)(r),r.on(nb.simpleDrag.event.START_DRAG,function(){e.zhen_txt0.alpha=0,n.removeChild(s)}),r.on(nb.simpleDrag.event.REACH_TARGET,C),r.on(nb.simpleDrag.event.NOT_REACH_TARGET,f),r.addChild(s)}});x.to([h],.3,{alpha:0}),x.add([TweenMax.to(r,.5,{x:r.defaultX,y:r.defaultY,rotation:0,onComplete:function(){e.zhen_txt0.alpha=1,TweenMax.to(e.txt3,.3,{alpha:1})}}),TweenMax.to(e.txt2,.5,{alpha:0}),TweenMax.to(l,.5,{alpha:1})])}else if(3==v){v++,h.interactive=!1;var m=new TimelineMax({onComplete:function(){(0,i.default)(d),d.addChild(s),d.on(nb.simpleDrag.event.START_DRAG,function(){d.removeChild(s)}),d.on(nb.simpleDrag.event.REACH_TARGET,D),d.on(nb.simpleDrag.event.NOT_REACH_TARGET,function(){TweenMax.to(d,.3,{x:r.defaultX,y:r.defaultY,onComplete:function(){d.addChild(s)}})})}});m.to([h],.3,{alpha:0}),m.add([TweenMax.to(d,.5,{x:r.defaultX,y:r.defaultY,onComplete:function(){TweenMax.to(e.txt4,.3,{alpha:1})}}),TweenMax.to(e.txt3,.5,{alpha:0}),TweenMax.to(a,.5,{alpha:1})])}else if(4==v){v++,h.interactive=!1;var g=new TimelineMax({onComplete:function(){}});g.to([h],.3,{alpha:0}),g.add([TweenMax.to(e.txt4,.5,{alpha:0,onComplete:function(){TweenMax.to(e.txt5,.3,{alpha:1})}}),TweenMax.to(a.hand,.5,{alpha:1,onComplete:function(){a.hand.addEventListener(TouchEvent.TAP,A)}})])}}),h.interactive=!1,function(){e.txt2.alpha=0,e.txt3.alpha=0,e.txt4.alpha=0,e.txt5.alpha=0,t.background.hand.alpha=0,a.alpha=0,o.alpha=0,e.zhen_txt0.alpha=0,r.defaultX=r.x,r.defaultY=r.y,d.alpha=0,a.hand.alpha=0,l.alpha=0,l.jiaodai.alpha=0;for(var n=0;n<3;n++){var h=e["zhen"+n];h.alpha=0,c.push(h)}for(var v=0;v<3;v++){var x=parseInt(21*Math.random())%3,T=c[v];c[v]=c[x],c[x]=T}t.addChild(s),(0,i.default)(t,{del:90}),t.on(nb.simpleDrag.event.START_DRAG,p),t.on(nb.simpleDrag.event.REACH_TARGET,u),t.on(nb.simpleDrag.event.NOT_REACH_TARGET,f)}();var x=e.zhen.width-50;function T(){r.rotation=Math.PI/10,e.zhen_txt0.alpha=0,r.removeChild(s)}var m=!1,g=Math.PI;function w(){if(r.rotation=Math.PI/10,!m&&r.hitTest(e.zhenHitArea)){o.alpha=0,m=!0;for(var t=0;t<3;t++){var a=c[t];r.addChild(a);var n=100+25*Math.random();a.position.set(n,0),a.rotation+=Math.random()*g*2/5+g/20}}}function M(){var t=this;m?(NBDrag.removeDrag(r),TweenMax.to(r,.5,{x:r.defaultX+250,y:r.defaultY,onComplete:function(){TweenMax.to(h,.3,{alpha:1,onComplete:function(){h.interactive=!0}})}})):TweenMax.to(this,.3,{x:this.defaultX,y:this.defaultY,rotation:0,onComplete:function(){t.addChild(s),e.zhen_txt0.alpha=1}})}function C(){l.addChildWithSamePos(r),l.setChildIndex(r,1);var e=new TimelineMax;e.add(TweenMax.to(l.jiaodai,.3,{alpha:1})),e.add(TweenMax.to(l,.5,{x:r.defaultX+250,onComplete:function(){TweenMax.to(l,.3,{alpha:0}),d.x=652.15,d.y=276.45,TweenMax.to(d,.3,{alpha:1}),TweenMax.to(h,.3,{alpha:1,onComplete:function(){h.interactive=!0}})}}))}function D(){a.addChild(d),d.x=d.y=0,TweenMax.to(d.scale,.5,{x:.66,y:.66,onComplete:function(){TweenMax.to(d,.3,{onComplete:function(){var e=new TimelineMax;e.add(TweenMax.to(a,.5,{x:640})),e.add([TweenMax.to(d,2,{rotation:-Math.PI/2}),TweenMax.to(d,2,{currentFrame:d.totalFrames-1,onComplete:function(){d.currentFrame=0,a.addChild(a.hand),TweenMax.to(h,.3,{alpha:1,onComplete:function(){h.interactive=!0}})}})])}})}})}function A(){a.hand.removeListener(TouchEvent.TAP,A);var e=Math.PI/3*Math.random(),t=new TimelineMax({onComplete:function(){a.hand.x+=30,a.hand.y-=30,TweenMax.to(a.hand,.3,{alpha:1,onComplete:function(){a.hand.addEventListener(TouchEvent.TAP,A)}})}});t.add([TweenMax.to(a.hand,.3,{x:"-=30",y:"+= 30"}),TweenMax.to(a.hand,.3,{alpha:0,delay:.3}),TweenMax.to(d,.6,{rotation:-e}),TweenMax.to(d,.6,{currentFrame:d.totalFrames-1,onComplete:function(){d.currentFrame=0}}),TweenMax.to(d,.5,{currentFrame:d.totalFrames-1,onComplete:function(){d.currentFrame=0}})]),t.add([TweenMax.to(d,1.5,{rotation:-Math.PI/2}),TweenMax.to(d,.5,{currentFrame:d.totalFrames-1,repeat:3})])}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"指南针是我国四大发明之一，我们一起来做一个简易指南针吧。",labName:"制作一个指南针",CONCLUSION:"通过制作指南针，你更进一步的了解了指南针的原理。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance0674},526:function(e,t,a){"use strict";(function(t){var a=t.nb;a.simpleDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||this,i=n.parent,o=-1,r=0;n.defaultX=n.x,n.defaultY=n.y,n.defaultScale=n.scale.x,n.defaultRotation=n.rotation,n.backDefaultFun=function(e){var t=this,n=e.Interactive,i=void 0===n||n,o=this;TweenMax.to(o,.5,{x:o.defaultX,y:o.defaultY,rotation:o.defaultRotation,onComplete:function(){o.interactive=i,t.dragging=!1,o.txtObj&&o.txtFun({show:!0}),o.emit(a.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(o.scale,.5,{x:o.defaultScale,y:o.defaultScale})};var l=Object.assign({scale:1,del:0,backDefaultPos:!1,alphaReach:.6,alphaNotReach:.3,expandRadius:0,txtName:"lable"},t),d=l.scale,h=l.del,c=l.backDefaultPos,s=l.alphaReach,v=l.alphaNotReach,p=l.expandRadius,f=d,u=h,x=s,T=v,m=l.txtName;function g(e){var t=e.tempObj,a=e.targetArray,o=e.targetString,r=e.number;if(t){var l,d=new PIXI.Sprite,h=!1;n.totalFrames>0?(h=!0,(l=n[0]).reverse()):(l=n.children.concat(),n.background instanceof PIXI.DisplayObject&&(l=[n.background])),l.forEach(function(e){if(e instanceof PIXI.DisplayObject||(e=e.dis),!e.mask)if(h){if(e.dis instanceof PIXI.Text)return;var t=e.clone();e.name=t.name,t&&(t.x=e.x,t.y=e.y,d.addChild(t))}else{if(e instanceof PIXI.Text)return;var a=e.clone();a&&a.name&&(e.name=a.name),a&&(a.x=e.x,a.y=e.y,d.addChild(a))}}),d.x=t.x,d.y=t.y;var c=i.getChildIndex(t);if(-1===c&&(c=i.children.length-1),i.addChildAt(d,c),window.cloneSSS=d,p){var s=new PIXI.Graphics;s.beginFill(16711680,0),s.drawCircle(0,0,p),s.endFill(),d.addChild(s)}if(TweenMax.to(d,0,{x:t.x,y:t.y,rotation:u*Math.PI/180,width:d.width*f,height:d.height*f}),o)(t=d).alpha=0,t.name=o,a[r]=t;else{d.name=t.name;var v=t.index;(t=d).alpha=0,t.name=d.name,a[v]=d}}}n[m]?(n.txtObj=n[m],n.txtFun=function(e){var t=e.show;this.txtObj.visible=Number(t)}):n.txtObj=null;var w=void 0===t.vAlpha?1:t.vAlpha;NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,M),n.removeSimpleDrag=function(){NBDrag.removeDrag(n),n.removeEventListener(NBDrag.event.START_DRAG,M)},n.resetSimpleDrag=function(){o=-1,n.dragging=!1,n.removeSimpleDrag(),NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,M)},n.setRotation=function(e){u=e},n.setScale=function(e){f=e},n.hideVirtuals=function(e){n.isHideVirtuals=e};function M(){if(!this.dragging&&(n.txtObj&&n.txtFun({show:!1}),-1===o?(o=function(e){if(n.targetArray){for(var t=n.targetArray,a=[],o=0;o<t.length;o++)t[o].index=o,g({tempObj:t[o],targetArray:a});return a}var r=[],l=1,d=void 0,h=0;do{g({tempObj:l=i[d=e+"Target"+h],targetArray:r,targetString:d,number:h}),h++}while(l);return r}(n.name)).length:o.length,!n.isHideVirtuals)){r=0;for(var e=0;e<o.length;e++)TweenMax.to(o[e],.5,{alpha:T*w});n.addEventListener(NBDrag.event.DRAG_MOVE,C),n.addEventListener(NBDrag.event.STOP_DRAG,D),n.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,D),n.emit(a.simpleDrag.event.START_DRAG),this.dragging=!0}}function C(){TweenMax.killTweensOf(n);for(var e=a.scienceCommonFun.hitTest2(n,o),t=0;t<o.length;t++){var i=o[t];TweenMax.to(i,.5,{alpha:T*w}),TweenMax.to(i.scale,.3,{x:f,y:f,ease:Power0.easeOut})}e&&(TweenMax.to(e,.5,{alpha:x*w}),TweenMax.to(e.scale,.3,{x:1.1*f,y:1.1*f,ease:Power0.easeIn}))}function D(){var e=this,t=-1,i=-1,l=0;n.removeEventListener(NBDrag.event.START_DRAG,M),n.removeEventListener(NBDrag.event.DRAG_MOVE,C),n.removeEventListener(NBDrag.event.STOP_DRAG,D),n.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,D),NBDrag.removeDrag(n),n.emit(a.simpleDrag.event.STOP_DRAG);for(var d=0;d<o.length;d++)TweenMax.to(o[d],.5,{alpha:0}),!1!==(l=n.hitTest(o[d]))&&(r=1,(-1===t||i<l)&&(t=d,i=l));if(1!==r)return NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,M),n.emit(a.simpleDrag.event.NOT_REACH_TARGET,r),n.interactive=!1,r=0,c?(TweenMax.to(n,.5,{x:n.defaultX,y:n.defaultY,rotation:n.defaultRotation,onComplete:function(){n.interactive=!0,e.dragging=!1,n.txtObj&&n.txtFun({show:!0}),n.emit(a.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(n.scale,.5,{x:n.defaultScale,y:n.defaultScale}),void(r=0)):(this.dragging=!1,n.interactive=!0,void(n.txt&&(n.txt.visible=!0)));TweenMax.to(n.scale,.5,{x:f,y:f}),TweenMax.to(n,.5,{x:o[t].x,y:o[t].y,rotation:u*Math.PI/180,onComplete:function(){return this.target.dragging=!1,n.emit(a.simpleDrag.event.REACH_TARGET,o[t].name.valueOf()),o.splice(t,1),0===o.length?void 0:(r=0,NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,M),void(n.interactive=!1))}}),n.emit(a.simpleDrag.event.REACH_TARGET_HITTED,o[t].name.valueOf())}n.setFreeDrag=function(e){e}},a.simpleDrag.event={START_DRAG:"startSimpleDrag",ON_HITTED:"hitted",REACH_TARGET_HITTED:"onReachHitted",REACH_TARGET:"onReachTarget",NOT_REACH_TARGET:"notReachTarget",FINISH_DRAG:"finishDrag",STOP_DRAG:"stopSimpleDrag",BACK_DEFAULT_POS:"backdefaultPos"},e.exports=a.simpleDrag}).call(t,a(5))}});