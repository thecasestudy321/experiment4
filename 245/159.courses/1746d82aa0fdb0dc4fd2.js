webpackJsonp([159],{485:function(e,t,n){"use strict";var i=r(n(520)),a=r(n(521));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance0668=extendsClass(ScienceMain,{frame0:function(){var e=this;$("body").animate({backgroundColor:"#000000"},100),a.default.apply(e),i.default.init.apply(e.timeline),e.currentStep=e.step0;for(var t=0;t<4;t++){var n=e["step"+t];n.mask=e.ref.children[0];var r=e["w"+t];n.indexArr=[0,0,0,0],r.index=t,n.index=t,r.addEventListener(TouchEvent.TAP,s)}function s(){var t=0;if(0!=+this.currentFrame)return this.gotoAndStop(0),void(e.currentStep.indexArr[this.index]=0);t=this.index===e.currentStep.index?2:1,this.gotoAndStop(t),e.currentStep.indexArr[this.index]=t}e.timeline.addEventListener("nodeTap",function(t){var n=Number(t.index);e.currentStep=e["step"+n];for(var i=0;i<4;i++){e["w"+i].gotoAndStop(e.currentStep.indexArr[i])}}),e.timeline.addEventListener(i.default.event.CLICK_NODE_REACHED,function(){for(var t=0;t<4;t++){e["w"+t].gotoAndStop(e.currentStep.indexArr[t])}})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"如何区分不同的天气。",labName:"区分不同的天气",CONCLUSION:"无",newLayOut:!0,isOffset:!0},const:{},event:{}}),e.exports=nb.substance0668},520:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,n=this;if(n.bgMask){var a=n.bgMask.getChildAt(0);n.progressBar.mask=a,a.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",s=0,o=[];n.drag.lastPos={x:n.drag.x,y:n.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var u=this["a"+d];if(void 0===u){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,s=d;break}o.push(u),0===d&&(e="vertical"===r?u.y:u.x),u.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(n.drag,.5,{y:this.y}):TweenMax.to(n.drag,.5,{x:this.x,onComplete:function(){n.emit(i.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(o.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),n.drag.lastPos={x:this.x,y:this.y},n.emit(i.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(a){a?(NBDrag.addDrag(n.drag),n.drag.on(NBDrag.event.START_DRAG,function(){var a=(n.drag.x-e)/(t-e);n.emit(i.event.START_DRAG,{time:a})}),n.drag.on(NBDrag.event.DRAG_MOVE,function(){var a=(n.drag.x-e)/(t-e);n.emit(i.event.DRAGING,{time:a})}),n.drag.on(NBDrag.event.STOP_DRAG,function(){var a=(n.drag.x-e)/(t-e);n.emit(i.event.STOP_DRAG,{time:a}),a>=1&&n.emit(i.event.ON_COMPLETE,{time:a})})):NBDrag.removeDrag(n.drag)},n.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==n._align_){var i=s-1;if("vertical"===r){var a=Math.round((this.y-e)/(t-e)*i);a<0&&(a=0)}else{var o=Math.round((this.x-e)/(t-e)*i);o<0&&(o=0)}}}),n.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){l()});var c=!1;n.drag.constY=n.drag.y;var v,l=function(){n.drag.y=n.drag.constY,n.drag.x>=t&&(n.drag.x=t),n.drag.x<=e&&(n.drag.x=e);var a=(n.drag.x-e)/(t-e);if(a<1){c=!1,n.emit(i.event.ON_PLAY,{time:a});for(var r=0;r<o.length;r++)n.drag.lastPos.x<=o[r].x&&n.drag.x>o[r].x&&n.emit(i.event.REACHED_NODE,{index:r})}else c||(c=!0,n.emit(i.event.ON_COMPLETE,{time:a}));(n.drag.line0&&(n.drag.line0.rotation=1800*a*Math.PI/180,n.drag.line1.rotation=360*a*Math.PI/180),n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=a);n.drag.lastPos={x:n.drag.x,y:n.drag.y}};this.getNodeCount=function(){return s},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?n.drag.y=t.y:n.drag.x=t.x},nb.MovieClip.ticker.add(function(){n._auto_&&!n.drag.isDragging&&("vertical"===r?n.drag.y+=n._speed_:n.drag.x+=n._speed_,l())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,i){clearTimeout(v),e&&!n.NOTafterStopPlay?(n.setAutoPlay(!1),clearTimeout(v),n.setAutoPlay(!1),v=setTimeout(function(){n.setAutoPlay(!0,i)},t)):n.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=0)}}};t.default=i},521:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,n=[];i.default.init.apply(this.timeline);for(var a=0;a<this.timeline.getNodeCount();a++){var r=this["step"+a];n.push(r),r.alpha=0,r.visible=!1}var s=this.step0;s.visible=!0,s.alpha=1;var o=0;this.timeline.on(i.default.event.CLICK_NODE,function(i){if(void 0!==i.index&&i.index!=o){var a=e.offset||1200;a=i.index>o?$s(a):-$s(a);var r=void 0!==s.currentX?s.currentX:s.currentX=s.x;TweenMax.to(s,e.oldTm||.6,{x:r+a,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[s],ease:Expo.easeOut}),o=i.index,(s=n[o]).visible=!0,r=void 0!==s.currentX?s.currentX:s.currentX=s.x,s.x=r-a,TweenMax.to(s,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:s,index:i.index})}})}}),this.addEventListener("render",function(){s.onUpdate&&s.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(520))}});