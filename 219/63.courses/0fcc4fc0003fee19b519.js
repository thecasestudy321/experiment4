webpackJsonp([63],{169:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,a,t,n){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=t||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,l=0;l<3;++l){var c=l+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),d.addChild(u)}var v=0;if(s.direction)switch(s.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}d.filters=[r];for(var f=0;f<d.children.length;f++){var g=d.children[f];g.scale.x=g.scale.y=2,f<2&&D(g,.75*f)}if(i.addChild(d),s.addArrow){var p,m;if(s.direction){p=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([p]);var T=s.scale?s.scale:1;m.scale.x=m.scale.y=T,m.pivot={x:0,y:m.height/2},m.rotation=v}else{p=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([p])).pivot={x:m.width/2,y:m.height/2};var E=s.scale?s.scale:1;m.scale.x=m.scale.y=E,"horizontal"!==(s.type?s.type:"horizontal")&&(m.rotation=Math.PI/2)}i.addChild(m),i.arrow=m,i.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),i.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}d.alpha=.4;var x=new PIXI.Graphics;function D(e,a){TweenMax.to(e,1.5,{delay:a,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:a,repeat:-1})}return x.beginFill(16776960,0),x.drawRect(-50,-50,100,100),i.addChild(x),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=a,i.setColor=function(e){var a=e>>16,t=e>>8&255,n=255&e;r._loadMatrix([a,0,0,0,0,0,t,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(a),a.pivot={x:0,y:m.height/2},a.rotation=Math.PI/2*(e+1)}else{var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(t),t.pivot={x:m.width/2,y:m.height/2},t.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},459:function(e,a,t){"use strict";var n=r(t(524)),i=r(t(526));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance0639=extendsClass(ScienceMain,{frame0:function(){for(var e=this,a=[],t=[],i=0;i<8;i++){var r=e["a"+i];r.icon.alpha=0;var o=r.name;instance.info.flagObj[o]=2;var s=e["con"+i];s&&(t.push(s),s.points=d(i)),r.yu=e.con0,a.push(r),r.on(n.default.event.HITTED_AREA,function(e){var a=e.area.name.substr(-1);this.hitIndex=a,instance.info.flagObj[this.name]=a})}function d(a){for(var t=[],n=0;n<instance.const.oneGroupNum;n++){var i={x:e["con"+a].x+n%2*150+50,y:e["con"+a].y+80*parseInt(n/2)+50};t.push(i)}return t}n.default.classify(a,t,{isShowErr:!1,isShowTapPoint:!1,isHideDragShadow:!1})},frame1:function(){var e=this;e.water.setCurrentCapacity("70%");var a=[2,2,6,1,2,3,6,1];e.a0.aniCon={aniX1:10,aniY1:10,aniR1:1*Math.random()/6,timer1:5,aniX2:-80,aniY2:-5,aniR2:1*-Math.random()/8,timer2:10},e.a1.aniCon={aniX1:10,aniY1:10,aniR1:1*Math.random()/10,timer1:5,aniX2:0,aniY2:-5,aniR2:1*-Math.random()/6,timer2:10},e.a2.aniCon={aniX1:10,aniY1:97,aniR1:1*Math.random()/10,timer1:2,aniX2:3,aniY2:15,aniR2:0,timer2:10},e.a3.aniCon={aniX1:60,aniY1:10,aniR1:1*Math.random()/6,timer1:5,aniX2:30,aniY2:85,aniR2:1*Math.random()/6,timer2:10},e.a4.aniCon={aniX1:10,aniY1:10,aniR1:1*Math.random()/6,timer1:5,aniX2:49,aniY2:-35,aniR2:1*-Math.random()/6,timer2:10},e.a5.aniCon={aniX1:10,aniY1:10,aniR1:1*Math.random()/6,timer1:5,aniX2:20,aniY2:-5,aniR2:1*Math.random()/6,timer2:10},e.a6.aniCon={aniX1:10,aniY1:95,aniR1:1*Math.random()/6,timer1:2,aniX2:15,aniY2:15,aniR2:0,timer2:8},e.a7.aniCon={aniX1:-30,aniY1:5,aniR1:1*-Math.random()/6,timer1:2,aniX2:-55,aniY2:88,aniR2:1*Math.random()/7,timer2:10};for(var t=0;t<8;t++){var n=e["a"+t],r=e["b"+t];(0,i.default)(n),n.density=a[t],n.index=t,n.startX=n.x,n.startY=n.y,r.icon.alpha=0,n.icon.alpha=1,n.icon.gotoAndStop(instance.info.flagObj[n.name]),n.addEventListener(NBDrag.event.START_DRAG,o),n.addEventListener(i.default.event.REACH_TARGET,d),n.addEventListener(i.default.event.NOT_REACH_TARGET,s),l(n)}function o(){this.icon.alpha=0,this.ani.pause(),this.rotation=0,e.addChild(this),this.hitTest(e.water.hitBody)||e.addChild(e.water),e.water.setCapacityTween("71%",3)}function s(){var e=this;TweenMax.to(this,.5,{x:this.startX,y:this.startY,ease:Sine.easeInOut,onComplete:function(){e.icon.alpha=1}})}function d(){var a=this;TweenMax.to(this,.5,{y:"+=180",ease:Sine.easeInOut,onComplete:function(){a.resetSimpleDrag(),a.ani.restart(),a.ani.play(),e.water.setCapacityTween("72%",3)}})}function l(e){e.ani=TweenMax.to(e,e.aniCon.timer1,{x:"+="+e.aniCon.aniX1,y:"+="+e.aniCon.aniY1,rotation:"+="+e.aniCon.aniR1,onComplete:function(){TweenMax.to(e,e.aniCon.timer2,{x:"+="+e.aniCon.aniX2,y:"+="+e.aniCon.aniY2,rotation:"+="+e.aniCon.aniR2})}}),e.ani.pause()}$(".steps li").click(function(){for(var a=0;a<8;a++){var t=e["a"+a];"frame1"===e.name&&t.x==t.startX&&t.y==t.startY&&(t.icon.alpha=1,t.icon.gotoAndStop(instance.info.flagObj[t.name]))}})},start:function(){this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"木头、金属、纸、塑料这些材料在水中的沉浮是怎样的呢？",labName:"材料在水中的沉浮",title0:"预测沉浮",title1:"放入水中",CONCLUSION:"金属类材料制成的物体在水中沉； 木头、塑料类材料制成的物体在水中浮， 纸质材料的物体一般都先浮后沉。",newLayOut:!0,flagObj:{}},const:{oneGroupNum:4},event:{}}),e.exports=nb.substance0639},524:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t(169));var i={event:{ERROR:"dragError",RIGHT:"dragRight",START_DRAG:"rankStart",STOP_DRAG:"rankStop",STOP_DRAG_DELAY:"rankStopDelay",BACK:"goBack",EXCHANGE:"exchange",HITTED_AREA:"hitArea",REACHED:"reached",INIT_COMPLETE:"initComplete",CHANGE_AREA:"changedArea"}};i.classify=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!a)return console.error("请传入必要参数objs, areas"),!1;var r=new PIXI.Sprite;function o(e){return{staticClone:e.staticShadow,areaClone:e.cloneObjs}}function s(e){var t=e.target;t.emit(i.event.START_DRAG),r.emit(i.event.START_DRAG),t.parent.addChild(t),r.isShowErr&&(t.err.alpha=0),r.isShowTapPoint&&t.removeChild(t.tapPoint),r.initDragPos=-1;for(var n=0;n<a.length;n++){var o=a[n];if(r.dragIndex=o.containObjs.indexOf(t),r.dragIndex>-1){o.containObjs.splice(r.dragIndex,1),r.initDragPos=o.id;break}}}function d(e){if(!r.isHideDragShadow){var t,n=e.target;if(t=n.hitTest2(a)){var i=n.cloneObjs[t.id],o=t.points,s=t.containObjs.length;r.initDragPos===t.id&&(s=r.dragIndex);var d=n.hitTest2(t.containObjs),l=r.initDragPos===t.id,c=r.initDragPos!==t.id&&!d;s<t.points.length&&(l||c)?(i.position.set(o[s].x,o[s].y),TweenMax.to(n.cloneObjs,r.VIR_TIMER,{alpha:0}),TweenMax.to(i,r.VIR_TIMER,{alpha:.3})):TweenMax.to(n.cloneObjs,r.VIR_TIMER,{alpha:0})}else TweenMax.to(n.cloneObjs,r.VIR_TIMER,{alpha:0})}}function l(t){var n=t.target;r.isHideDragShadow||(TweenMax.killTweensOf(n.cloneObjs),v(n.cloneObjs,"alpha",0));var o=null;if(o=n.hitTest2(a),n.emit(i.event.STOP_DRAG,null!==o),r.emit(i.event.STOP_DRAG,null!==o),v(e,"interactive",!1),setTimeout(function(){n.emit(i.event.STOP_DRAG_DELAY,{dragObj:n,area:o}),r.emit(i.event.STOP_DRAG_DELAY,{dragObj:n,area:o}),v(e,"interactive",!0),r.isShowTapPoint&&function(){for(var a=0;a<e.length;a++){var t=e[a];if(!t.hitted){t.addChild(t.tapPoint);break}}}()},1e3*r.MOVE_TIMER),n.currentArea=o,o){n.emit(i.event.HITTED_AREA,{area:o}),r.emit(i.event.HITTED_AREA,{area:o}),n.hitted=!0;var s=o.containObjs.length,d=o.points;if(r.initDragPos===o.id)s=r.dragIndex,o.containObjs.splice(r.dragIndex,0,n),TweenMax.to(n,r.MOVE_TIMER,{x:d[s].x,y:d[s].y,onComplete:function(){c(n,o)}}),n.currentPos=d[s];else{r.emit(i.event.CHANGE_AREA,{changed:!0});var l=null,f=0,g=o.containObjs;if(l=n.hitTest2(g)){f=g.indexOf(l),g.splice(f,1);var p=null;r.initDragPos>=0?(p=n.currentPos,a[r.initDragPos].containObjs.splice(r.dragIndex,0,l),l.currentArea=a[r.initDragPos]):p=l._defaultPos,r.danYu&&(l.curYu=null),TweenMax.to(l,r.MOVE_TIMER,{x:p.x,y:p.y}),TweenMax.to(n,r.MOVE_TIMER,{x:l.currentPos.x,y:l.currentPos.y,onComplete:function(){c(n,o),r.initDragPos>=0?c(l,a[r.initDragPos]):h(l)}}),n.currentPos=l.currentPos,l.currentPos=p,o.containObjs.splice(f,0,n),n.emit(i.event.EXCHANGE,l),r.emit(i.event.EXCHANGE,l)}else{if(s<o.points.length)TweenMax.to(n,r.MOVE_TIMER,{x:d[s].x,y:d[s].y,onComplete:function(){c(n,o)}}),n.currentPos=d[s];else{var m=g.pop();r.initDragPos<0?(TweenMax.to(m,r.MOVE_TIMER,{x:m._defaultX,y:m._defaultY,onComplete:function(){h(m)}}),m.currentPos=m._defaultPos):(TweenMax.to(m,r.MOVE_TIMER,{x:n.currentPos.x,y:n.currentPos.y,onComplete:function(){c(m,a[r.initDragPos])}}),m.currentPos=n.currentPos,a[r.initDragPos].containObjs.splice(r.dragIndex,0,m)),TweenMax.to(n,r.MOVE_TIMER,{x:d[d.length-1].x,y:d[d.length-1].y,onComplete:function(){c(n,o)}}),n.currentPos=d[d.length-1],n.emit(i.event.EXCHANGE,m),r.emit(i.event.EXCHANGE,m)}r.initDragPos>=0&&s<o.points.length&&u(a[r.initDragPos].containObjs,a[r.initDragPos].points)}}o.containObjs.indexOf(n)<0&&o.containObjs.push(n)}else r.danYu&&r.emit(i.event.CHANGE_AREA,{changed:!0}),n.curYu&&(n.curYu=null),TweenMax.to(n,r.MOVE_TIMER,{x:n._defaultX,y:n._defaultY,onComplete:function(){h(n)}}),r.initDragPos>=0&&u(a[r.initDragPos].containObjs,a[r.initDragPos].points)}function c(e,a){var t=!1;e.curYu=a;var n=e.yu;if(n instanceof Array){for(var o=0;o<n.length;o++)if(n[o]===a){t=!0;break}}else n===a&&(t=!0);t?(e.emit(i.event.RIGHT,{area:a}),r.emit(i.event.RIGHT,{area:a}),r.isShowErr&&(e.err.alpha=0)):(e.emit(i.event.ERROR,{area:a}),r.emit(i.event.ERROR,{area:a}),r.isShowErr&&r.immediatelyShowArr&&(e.err.alpha=1)),r.emit(i.event.REACHED,{target:e,area:a,containObjs:a.containObjs})}function h(e){e.emit(i.event.BACK),r.emit(i.event.BACK),r.isShowErr&&(e.err.alpha=0)}function u(e,a){for(var t=0;t<e.length;t++){var n=a[t];TweenMax.to(e[t],r.MOVE_TIMER,{x:n.x,y:n.y}),e[t].currentPos=n}}function v(e,a,t){for(var n=0;n<e.length;n++)e[n][a]=t}function f(e){for(var a=-1,t=null,n=0;n<e.length;n++){var i=this.hitTest(e[n]);i&&i>a&&(a=i,t=e[n])}return a>-1?t:null}return r.VIR_TIMER=0,r.MOVE_TIMER=.5,r.isShowErr=!0,r.isShowTapPoint=!0,r.isHideDragShadow=!1,r.isHidePosShadow=!1,r.danYu=!1,r.initDragPos=-1,r.dragIndex=-1,r.immediatelyShowArr=!0,t&&(r.isShowErr=void 0===t.isShowErr||t.isShowErr,r.immediatelyShowArr=void 0===t.immediatelyShowArr||t.immediatelyShowArr,r.isShowTapPoint=void 0===t.isShowTapPoint||t.isShowTapPoint,r.isHideDragShadow=t.isHideDragShadow,r.isHidePosShadow=t.isHidePosShadow,r.danYu=void 0!==t.danYu&&t.danYu),function(){e.forEach(function(e){e._defaultX=e.x,e._defaultY=e.y,e._defaultPos=e.position.clone(),e.currentPos=e.position.clone(),e.hitTest2=f;var t=e.getLocalBounds();if(e.background&&(t=e.background.getLocalBounds()),r.isShowErr){var i=PIXI.Sprite.fromFrame("err"),c=new PIXI.extras.MovieClip([i]);if(e.addChild(c),c.position.set(t.width+t.x-c.width,t.y+t.height-c.width),e.background){var h=e.background;c.position.set(h.x+h.width+t.x-c.width/2,t.y+h.y+h.height-c.height/2)}e.errPos&&(c.pivot.set(c.width/2,c.height/2),c.position.set(e.errPos.x,e.errPos.y)),e.err=c,c.alpha=0}if(r.isShowTapPoint){var u=(0,n.default)(t.width/2+t.x,t.height/2+t.y);if(e.tapPointPos&&u.position.set(e.tapPointPos.x,e.tapPointPos.y),e.background){var v=e.background;u.position.set(v.x+v.width/2+t.x,v.y+v.height/2+t.y)}e.tapPoint=u}var g=e.name;if(!r.isHidePosShadow){var p=void 0;if(e.background){var m=e.background;p=e.background.clone(),e.background.name=p.name,e.parent.addChildAt(p,0),e.background=m,p.position.set(e.x,e.y),p.alpha=.3}else(p=e.clone()).alpha=.3;e.staticShadow=p}if(!r.isHideDragShadow){for(var T=[],E=0;E<a.length;E++){var x=null;if(e.background){var D=e.background;x=e.background.clone(),e.background.name=x.name,e.background=D}else x=e.clone();e.parent.addChild(x),x.alpha=0,T.push(x)}e.cloneObjs=T}e.name=g,NBDrag.addDrag(e),e.addEventListener(NBDrag.event.START_DRAG,s),e.addEventListener(NBDrag.event.DRAG_MOVE,d),e.addEventListener(NBDrag.event.STOP_DRAG,l),e.getClone=function(){return o(e)}}),r.isShowTapPoint&&e[0].addChild(e[0].tapPoint);for(var i=0;i<a.length;i++){var c=a[i];c.id=i,t.hasObjs?c.containObjs=t.hasObjs[i]:c.containObjs=[]}}(),t.callback&&"function"==typeof t.callback&&t.callback(),r.reset=function(){e.forEach(function(a){TweenMax.to(a,.5,{x:a._defaultX,y:a._defaultY,onComplete:function(){e[0].tapPoint&&e[0].addChild(e[0].tapPoint)}}),a.currentPos=a._defaultPos,a.hitted=!1,a.err&&(a.err.alpha=0),a.tapPoint&&a.removeChild(a.tapPoint)}),a.forEach(function(e){e.containObjs=[]})},r.setDrag=function(a){a?e.forEach(function(e){NBDrag.addDrag(e)}):e.forEach(function(e){NBDrag.removeDrag(e),e.removeChild(e.tapPoint),e.removeEventListener(NBDrag.event.START_DRAG,s),e.removeEventListener(NBDrag.event.DRAG_MOVE,d),e.removeEventListener(NBDrag.event.STOP_DRAG,l)})},r.togetherShowArr=function(){if(!r.immediatelyShowArr)for(var a=0;a<e.length;a++)"undefined"!==e[a].curYu&&null!==e[a].curYu&&"undefined"!==e[a].yu&&e[a].curYu!==e[a].yu&&1!==e[a].err.alpha&&TweenMax.to(e[a].err,.3,{alpha:1})},r.getClone=o,r.getContainObjs=function(e){return e.containObjs},r.getArea=function(e){return e.currentArea},r},a.default=i},526:function(e,a,t){"use strict";(function(a){var t=a.nb;t.simpleDrag=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||this,i=n.parent,r=-1,o=0;n.defaultX=n.x,n.defaultY=n.y,n.defaultScale=n.scale.x,n.defaultRotation=n.rotation,n.backDefaultFun=function(e){var a=this,n=e.Interactive,i=void 0===n||n,r=this;TweenMax.to(r,.5,{x:r.defaultX,y:r.defaultY,rotation:r.defaultRotation,onComplete:function(){r.interactive=i,a.dragging=!1,r.txtObj&&r.txtFun({show:!0}),r.emit(t.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(r.scale,.5,{x:r.defaultScale,y:r.defaultScale})};var s=Object.assign({scale:1,del:0,backDefaultPos:!1,alphaReach:.6,alphaNotReach:.3,expandRadius:0,txtName:"lable"},a),d=s.scale,l=s.del,c=s.backDefaultPos,h=s.alphaReach,u=s.alphaNotReach,v=s.expandRadius,f=d,g=l,p=h,m=u,T=s.txtName;function E(e){var a=e.tempObj,t=e.targetArray,r=e.targetString,o=e.number;if(a){var s,d=new PIXI.Sprite,l=!1;n.totalFrames>0?(l=!0,(s=n[0]).reverse()):(s=n.children.concat(),n.background instanceof PIXI.DisplayObject&&(s=[n.background])),s.forEach(function(e){if(e instanceof PIXI.DisplayObject||(e=e.dis),!e.mask)if(l){if(e.dis instanceof PIXI.Text)return;var a=e.clone();e.name=a.name,a&&(a.x=e.x,a.y=e.y,d.addChild(a))}else{if(e instanceof PIXI.Text)return;var t=e.clone();t&&t.name&&(e.name=t.name),t&&(t.x=e.x,t.y=e.y,d.addChild(t))}}),d.x=a.x,d.y=a.y;var c=i.getChildIndex(a);if(-1===c&&(c=i.children.length-1),i.addChildAt(d,c),window.cloneSSS=d,v){var h=new PIXI.Graphics;h.beginFill(16711680,0),h.drawCircle(0,0,v),h.endFill(),d.addChild(h)}if(TweenMax.to(d,0,{x:a.x,y:a.y,rotation:g*Math.PI/180,width:d.width*f,height:d.height*f}),r)(a=d).alpha=0,a.name=r,t[o]=a;else{d.name=a.name;var u=a.index;(a=d).alpha=0,a.name=d.name,t[u]=d}}}n[T]?(n.txtObj=n[T],n.txtFun=function(e){var a=e.show;this.txtObj.visible=Number(a)}):n.txtObj=null;var x=void 0===a.vAlpha?1:a.vAlpha;NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D),n.removeSimpleDrag=function(){NBDrag.removeDrag(n),n.removeEventListener(NBDrag.event.START_DRAG,D)},n.resetSimpleDrag=function(){r=-1,n.dragging=!1,n.removeSimpleDrag(),NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D)},n.setRotation=function(e){g=e},n.setScale=function(e){f=e},n.hideVirtuals=function(e){n.isHideVirtuals=e};function D(){if(!this.dragging&&(n.txtObj&&n.txtFun({show:!1}),-1===r?(r=function(e){if(n.targetArray){for(var a=n.targetArray,t=[],r=0;r<a.length;r++)a[r].index=r,E({tempObj:a[r],targetArray:t});return t}var o=[],s=1,d=void 0,l=0;do{E({tempObj:s=i[d=e+"Target"+l],targetArray:o,targetString:d,number:l}),l++}while(s);return o}(n.name)).length:r.length,!n.isHideVirtuals)){o=0;for(var e=0;e<r.length;e++)TweenMax.to(r[e],.5,{alpha:m*x});n.addEventListener(NBDrag.event.DRAG_MOVE,R),n.addEventListener(NBDrag.event.STOP_DRAG,w),n.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,w),n.emit(t.simpleDrag.event.START_DRAG),this.dragging=!0}}function R(){TweenMax.killTweensOf(n);for(var e=t.scienceCommonFun.hitTest2(n,r),a=0;a<r.length;a++){var i=r[a];TweenMax.to(i,.5,{alpha:m*x}),TweenMax.to(i.scale,.3,{x:f,y:f,ease:Power0.easeOut})}e&&(TweenMax.to(e,.5,{alpha:p*x}),TweenMax.to(e.scale,.3,{x:1.1*f,y:1.1*f,ease:Power0.easeIn}))}function w(){var e=this,a=-1,i=-1,s=0;n.removeEventListener(NBDrag.event.START_DRAG,D),n.removeEventListener(NBDrag.event.DRAG_MOVE,R),n.removeEventListener(NBDrag.event.STOP_DRAG,w),n.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,w),NBDrag.removeDrag(n),n.emit(t.simpleDrag.event.STOP_DRAG);for(var d=0;d<r.length;d++)TweenMax.to(r[d],.5,{alpha:0}),!1!==(s=n.hitTest(r[d]))&&(o=1,(-1===a||i<s)&&(a=d,i=s));if(1!==o)return NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D),n.emit(t.simpleDrag.event.NOT_REACH_TARGET,o),n.interactive=!1,o=0,c?(TweenMax.to(n,.5,{x:n.defaultX,y:n.defaultY,rotation:n.defaultRotation,onComplete:function(){n.interactive=!0,e.dragging=!1,n.txtObj&&n.txtFun({show:!0}),n.emit(t.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(n.scale,.5,{x:n.defaultScale,y:n.defaultScale}),void(o=0)):(this.dragging=!1,n.interactive=!0,void(n.txt&&(n.txt.visible=!0)));TweenMax.to(n.scale,.5,{x:f,y:f}),TweenMax.to(n,.5,{x:r[a].x,y:r[a].y,rotation:g*Math.PI/180,onComplete:function(){return this.target.dragging=!1,n.emit(t.simpleDrag.event.REACH_TARGET,r[a].name.valueOf()),r.splice(a,1),0===r.length?void 0:(o=0,NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D),void(n.interactive=!1))}}),n.emit(t.simpleDrag.event.REACH_TARGET_HITTED,r[a].name.valueOf())}n.setFreeDrag=function(e){e}},t.simpleDrag.event={START_DRAG:"startSimpleDrag",ON_HITTED:"hitted",REACH_TARGET_HITTED:"onReachHitted",REACH_TARGET:"onReachTarget",NOT_REACH_TARGET:"notReachTarget",FINISH_DRAG:"finishDrag",STOP_DRAG:"stopSimpleDrag",BACK_DEFAULT_POS:"backdefaultPos"},e.exports=t.simpleDrag}).call(a,t(5))}});